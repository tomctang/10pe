
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>13. 1. A Mathematical Understanding of the Powerball Lottery &#8212; Jonny Workbook</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'nb_lottery_simulator';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="12. Jonny Geo-Graph" href="nb_Geo.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
  
    <p class="title logo__title">Jonny Workbook</p>
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Introduction
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Project Euler (PE)</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="PE25.html">1. PE Q1-25</a></li>
<li class="toctree-l1"><a class="reference internal" href="PE50.html">2. PE Q26-50</a></li>
<li class="toctree-l1"><a class="reference internal" href="PE75.html">3. PE Q51-75</a></li>
<li class="toctree-l1"><a class="reference internal" href="PE100.html">4. PE Q76-100</a></li>
<li class="toctree-l1"><a class="reference internal" href="PE300.html">5. PE Q101-300</a></li>
<li class="toctree-l1"><a class="reference internal" href="PE_hidden_math.html">6. PE-Hidden-Math</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">A-level Math</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Alevel_math.html">7. A-level-math</a></li>
<li class="toctree-l1"><a class="reference internal" href="Alevel_math_further.html">8. A-level-further</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">MIT CS-Courses</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="MIT_CS6001-Python.html">9. 6.00.1x</a></li>
<li class="toctree-l1"><a class="reference internal" href="MIT_CS6002-thinking.html">10. 6.00.2.x</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Notebook</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="nb_Jonny_notebook.html">11. Jonny notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="nb_Geo.html">12. Jonny Geo-Graph</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">13. 1. A Mathematical Understanding of the Powerball Lottery</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/tomctang/10pe" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/nb_lottery_simulator.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>1. A Mathematical Understanding of the Powerball Lottery</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-the-total-number-of-combinations-permutations">13.1. 1.1 Calculating the Total number of Combinations &amp; Permutations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#total-number-of-combinations-and-permutations">13.1.1. Total Number of Combinations and Permutations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#total-number-of-combinations">13.1.2. Total Number of Combinations</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-the-odds-of-each-ticket-combination">13.2. 1.2 Calculating the Odds of Each Ticket Combination</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-the-odds-of-the-powerball-from-october-2015-current">13.2.1. Calculating the odds of the Powerball from October 2015 - Current</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-quick-clean">13.2.2. A Quick Clean</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-odds-with-getting-the-correct-powerball">13.2.3. The Odds with getting the correct Powerball</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-odds-without-getting-the-correct-powerball">13.2.4. The Odds without getting the correct Powerball</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-the-odds-of-the-powerball-from-january-2012-october-2015">13.2.5. Calculating the odds of the Powerball from January 2012 - October 2015</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-odds-with-getting-the-correct-powerball-2012-2015">13.2.6. The Odds with getting the correct Powerball (2012-2015)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-odds-without-getting-the-correct-powerball-2012-2015">13.2.7. The Odds without getting the correct Powerball (2012-2015)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-quick-comparison-between-the-two-odds">13.3. 1.3 A Quick Comparison between the two Odds</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-change-in-2015">13.3.1. The change in 2015</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#god-s-view">13.4. 1.4 God’s view</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prize-quantity-won-barplot-log">13.4.1. Prize Quantity Won &amp; Barplot 图调整log坐标</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prize-quantity-won-barplot-linear">13.4.2. Prize Quantity Won &amp; Barplot linear坐标不调整</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-much-money-won-for-per-prize-barplot-linear">13.4.3. How much money Won for per Prize &amp; Barplot linear</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#god-boss-s-view">13.4.4. God(Boss)’s view</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#another-way">13.5. Another way</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="a-mathematical-understanding-of-the-powerball-lottery">
<h1><span class="section-number">13. </span>1. A Mathematical Understanding of the Powerball Lottery<a class="headerlink" href="#a-mathematical-understanding-of-the-powerball-lottery" title="Link to this heading">#</a></h1>
<p>This is the accompaying Jupyter Notebook to <a class="reference external" href="http://urbanscientist.cool/articles/19/Mathematics-of-the-Powerball-blog/">my article 网站已失效</a>. Here we will take a quick computational walkthrough the article and the functions defined within it. 来自：<a class="github reference external" href="https://github.com/UrbanScientist">UrbanScientist</a></p>
<section id="calculating-the-total-number-of-combinations-permutations">
<h2><span class="section-number">13.1. </span>1.1 Calculating the Total number of Combinations &amp; Permutations<a class="headerlink" href="#calculating-the-total-number-of-combinations-permutations" title="Link to this heading">#</a></h2>
<p>As in the article I am quick to point out that factorials are computationally ineffecient. We will use them for simple explanation’s sake. Using the defined n, and k within equation in the article. We us them below to arrive at the total number of combinations including permutations, or just combinations within the Powerball lottery.</p>
<ul class="simple">
<li><p><em>n = denotes the maximum value in a range from (1,n)</em></p></li>
<li><p><em>k = denotes the number of values selected from the n range</em></p></li>
</ul>
<p>The computational expression of the binomial coefficient calculation expresses the optionality to include or exclude permutations using the perm parameter. There is also a Scipy Module that can be used called “binom()”there is however no way to alter it to have permutations within it. This is why we built our own binomial function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Import the Necessities</span>
<span class="kn">from</span> <span class="nn">scipy.special</span> <span class="kn">import</span> <span class="n">factorial</span><span class="p">,</span> <span class="n">binom</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="k">def</span> <span class="nf">binomial_coefficient</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">perm</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Calculates the Binomial Coefficient (n choose k)</span>

<span class="sd">    Keyword Arguments:</span>
<span class="sd">    n = denotes the maximum value in a range from (1,n)</span>
<span class="sd">    k = denotes the number of values selected from the (1,n) range</span>
<span class="sd">    perm = denotes whether permutations are included</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">perm</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">binomial_coefficient</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="o">/</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">k</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">binomial_coefficient</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="n">factorial</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">*</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">k</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">binomial_coefficient</span>
</pre></div>
</div>
</div>
</div>
<section id="total-number-of-combinations-and-permutations">
<h3><span class="section-number">13.1.1. </span>Total Number of Combinations and Permutations<a class="headerlink" href="#total-number-of-combinations-and-permutations" title="Link to this heading">#</a></h3>
<p>Taking note that the powerball is a <em>selection without replacement</em> meaning that once a number is drawn out of a pool it can no longer be drawn. This means that we must get rid of any permuatations within our calculation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">binomial_coefficient</span><span class="p">(</span><span class="mi">69</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="n">perm</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="total-number-of-combinations">
<h3><span class="section-number">13.1.2. </span>Total Number of Combinations<a class="headerlink" href="#total-number-of-combinations" title="Link to this heading">#</a></h3>
<p>Using the function without using the perm parameter, or declaring it false yeilds us with the total number of combinations deviod of any permutations.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#binomial_coefficient(69,5, perm=False)</span>
<span class="n">binomial_coefficient</span><span class="p">(</span><span class="mi">69</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="calculating-the-odds-of-each-ticket-combination">
<h2><span class="section-number">13.2. </span>1.2 Calculating the Odds of Each Ticket Combination<a class="headerlink" href="#calculating-the-odds-of-each-ticket-combination" title="Link to this heading">#</a></h2>
<p>This function gives us the ability to calcluate the range of odds of drawing X correct balls in a non-powerball or one-powerball style lottery. The function takes the n,k,and pmax parameters as inputs and 2 lists with the calculated odds of winning with the powerball or without the powerball. In a lottery without the powerball pool it returns an empty list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">powerball_odds</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">pmax</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Calcluates the range of odds of drawing X correct balls in a non-powerball or one-powerball style lottery.</span>
<span class="sd">    </span>
<span class="sd">    Keyword Arguments:</span>
<span class="sd">    n: The total number of balls in the lottery&#39;s drawing</span>
<span class="sd">    k: The total number of balls that a player can draw out of the n pool</span>
<span class="sd">    pmax:(optional): The maximum value if there is a powerball drawn from a seperate pool.        </span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">global</span> <span class="n">odds_list</span>
    <span class="k">global</span> <span class="n">odds_list_PB</span>
    <span class="n">odds_list_PB</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">odds_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">n</span><span class="o">-</span><span class="n">k</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">k</span><span class="o">-</span><span class="n">i</span>
        <span class="n">odds_a</span> <span class="o">=</span> <span class="n">binomial_coefficient</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">i</span><span class="p">)</span>
        <span class="n">odds_b</span> <span class="o">=</span> <span class="n">binomial_coefficient</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">f</span><span class="p">)</span>
        <span class="n">odds_c</span> <span class="o">=</span> <span class="n">binomial_coefficient</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">pmax</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">odds</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">((</span><span class="n">odds_a</span> <span class="o">*</span> <span class="n">odds_b</span><span class="p">)</span><span class="o">/</span><span class="n">odds_c</span><span class="p">)</span>
            <span class="n">odds_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">odds</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">odds_d</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">((</span><span class="n">odds_a</span> <span class="o">*</span> <span class="n">odds_b</span><span class="p">)</span><span class="o">/</span><span class="n">odds_c</span><span class="p">)</span>
            <span class="n">odds_PB</span> <span class="o">=</span> <span class="n">odds_d</span> <span class="o">*</span> <span class="n">pmax</span>
            <span class="n">odds_wo_PB</span> <span class="o">=</span> <span class="n">odds_d</span> <span class="o">*</span> <span class="n">pmax</span> <span class="o">/</span> <span class="p">(</span><span class="n">pmax</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">odds_list_PB</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">odds_PB</span><span class="p">)</span>
            <span class="n">odds_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">odds_wo_PB</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">odds_list</span><span class="p">,</span> <span class="n">odds_list_PB</span>
</pre></div>
</div>
</div>
</div>
<section id="calculating-the-odds-of-the-powerball-from-october-2015-current">
<h3><span class="section-number">13.2.1. </span>Calculating the odds of the Powerball from October 2015 - Current<a class="headerlink" href="#calculating-the-odds-of-the-powerball-from-october-2015-current" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">powerball_odds</span><span class="p">(</span><span class="mi">69</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="n">pmax</span><span class="o">=</span><span class="mi">26</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="a-quick-clean">
<h3><span class="section-number">13.2.2. </span>A Quick Clean<a class="headerlink" href="#a-quick-clean" title="Link to this heading">#</a></h3>
<p>Lets Clean the lists up a bit.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Define the Ticket Combinations</span>
<span class="n">Correct_Numbers</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)]</span>
<span class="n">Correct_Powerball</span> <span class="o">=</span> <span class="s1">&#39;Powerball&#39;</span>
<span class="n">Incorrect_Powerball</span> <span class="o">=</span> <span class="s1">&#39;No Powerball&#39;</span>
    
<span class="c1">#Define the Payouts ($)</span>
<span class="n">PayoutW_69</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">50000</span><span class="p">,</span><span class="s1">&#39;Jackpot&#39;</span><span class="p">]</span>
<span class="n">PayoutWO</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">1000000</span><span class="p">]</span>
    
<span class="c1">#Clean the Odds Lists</span>
<span class="n">OddsWO</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">odds_list</span><span class="p">))</span>
<span class="n">Odds_W</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">odds_list_PB</span><span class="p">))</span>
    
<span class="c1">#Create the DataFrame    </span>
<span class="n">OddsW_6926</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;# Correct&#39;</span><span class="p">:</span><span class="n">Correct_Numbers</span><span class="p">,</span> <span class="s1">&#39;Correct Powerball #&#39;</span><span class="p">:</span> <span class="n">Correct_Powerball</span><span class="p">,</span><span class="s1">&#39;Odds1: 1/Probability&#39;</span><span class="p">:</span> <span class="n">Odds_W</span><span class="p">,</span>
                            <span class="s1">&#39;Payout&#39;</span><span class="p">:</span><span class="n">PayoutW_69</span><span class="p">})</span>
<span class="n">OddsWO_6926</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;# Correct&#39;</span><span class="p">:</span><span class="n">Correct_Numbers</span><span class="p">,</span> <span class="s1">&#39;Correct Powerball #&#39;</span><span class="p">:</span> <span class="n">Incorrect_Powerball</span><span class="p">,</span><span class="s1">&#39;Odds: 1/Probability&#39;</span><span class="p">:</span><span class="n">OddsWO</span><span class="p">,</span>
                             <span class="s1">&#39;Payout&#39;</span><span class="p">:</span> <span class="n">PayoutWO</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">line</span> <span class="mi">11</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="n">PayoutWO</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">1000000</span><span class="p">]</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span> <span class="c1">#Clean the Odds Lists</span>
<span class="ne">---&gt; </span><span class="mi">11</span> <span class="n">OddsWO</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">odds_list</span><span class="p">))</span>
<span class="g g-Whitespace">     </span><span class="mi">12</span> <span class="n">Odds_W</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">odds_list_PB</span><span class="p">))</span>
<span class="g g-Whitespace">     </span><span class="mi">14</span> <span class="c1">#Create the DataFrame    </span>

<span class="ne">NameError</span>: name &#39;odds_list&#39; is not defined
</pre></div>
</div>
</div>
</div>
</section>
<section id="the-odds-with-getting-the-correct-powerball">
<h3><span class="section-number">13.2.3. </span>The Odds with getting the correct Powerball<a class="headerlink" href="#the-odds-with-getting-the-correct-powerball" title="Link to this heading">#</a></h3>
<p>This dataframe also includes the associated payouts in ($) in the payout column.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">OddsW_6926</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="the-odds-without-getting-the-correct-powerball">
<h3><span class="section-number">13.2.4. </span>The Odds without getting the correct Powerball<a class="headerlink" href="#the-odds-without-getting-the-correct-powerball" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">OddsWO_6926</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="calculating-the-odds-of-the-powerball-from-january-2012-october-2015">
<h3><span class="section-number">13.2.5. </span>Calculating the odds of the Powerball from January 2012 - October 2015<a class="headerlink" href="#calculating-the-odds-of-the-powerball-from-january-2012-october-2015" title="Link to this heading">#</a></h3>
<p>Let us take a look at how the powerball has changed from the most previous version of the game. It was played where, n = 59, k = 5, and the size of the pool that the powerball could be drawn from ranged to 35. This when ran through the same processes that weused prior shows us how the odds have changed in our favor.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">powerball_odds</span><span class="p">(</span><span class="mi">59</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="n">pmax</span><span class="o">=</span><span class="mi">35</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Define the Payouts ($)</span>
<span class="n">PayoutW_59</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">10000</span><span class="p">,</span><span class="s1">&#39;Jackpot&#39;</span><span class="p">]</span>
<span class="n">PayoutWO</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">1000000</span><span class="p">]</span>
    
<span class="c1">#Clean the Odds Lists</span>
<span class="n">Odds_WO59</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">odds_list</span><span class="p">))</span>
<span class="n">Odds_W59</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">odds_list_PB</span><span class="p">))</span>

<span class="c1">#Create the DataFrame    </span>
<span class="n">OddsW_5935</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;# Correct&#39;</span><span class="p">:</span><span class="n">Correct_Numbers</span><span class="p">,</span> <span class="s1">&#39;Correct Powerball #&#39;</span><span class="p">:</span> <span class="n">Correct_Powerball</span><span class="p">,</span><span class="s1">&#39;Odds1: 1/Probability&#39;</span><span class="p">:</span> <span class="n">Odds_W59</span><span class="p">,</span>
                            <span class="s1">&#39;Payout&#39;</span><span class="p">:</span><span class="n">PayoutW_59</span><span class="p">})</span>
<span class="n">OddsWO_5935</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;# Correct&#39;</span><span class="p">:</span><span class="n">Correct_Numbers</span><span class="p">,</span> <span class="s1">&#39;Correct Powerball #&#39;</span><span class="p">:</span> <span class="n">Incorrect_Powerball</span><span class="p">,</span><span class="s1">&#39;Odds: 1/Probability&#39;</span><span class="p">:</span><span class="n">Odds_WO59</span><span class="p">,</span>
                             <span class="s1">&#39;Payout&#39;</span><span class="p">:</span> <span class="n">PayoutWO</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="the-odds-with-getting-the-correct-powerball-2012-2015">
<h3><span class="section-number">13.2.6. </span>The Odds with getting the correct Powerball (2012-2015)<a class="headerlink" href="#the-odds-with-getting-the-correct-powerball-2012-2015" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">OddsW_5935</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="the-odds-without-getting-the-correct-powerball-2012-2015">
<h3><span class="section-number">13.2.7. </span>The Odds without getting the correct Powerball (2012-2015)<a class="headerlink" href="#the-odds-without-getting-the-correct-powerball-2012-2015" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">OddsWO_5935</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="a-quick-comparison-between-the-two-odds">
<h2><span class="section-number">13.3. </span>1.3 A Quick Comparison between the two Odds<a class="headerlink" href="#a-quick-comparison-between-the-two-odds" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">difference</span> <span class="o">=</span> <span class="p">[</span><span class="n">Odds_W</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">Odds_W59</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">difference</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">difference1</span> <span class="o">=</span> <span class="p">[</span><span class="n">OddsWO</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">Odds_WO59</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">difference1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="the-change-in-2015">
<h3><span class="section-number">13.3.1. </span>The change in 2015<a class="headerlink" href="#the-change-in-2015" title="Link to this heading">#</a></h3>
<p>That change in the sizes of the pools in the powerball accomplished two things. It first improved the odds of having a winning ticket with the powerball for tickets with 3 correct numbers or less. Secondly it decreased the odds of having a winning ticket with the powerball for tickets with 4 or more correct numbers. For tickets without the correct powerball the odds of winning either stayed the same or increased. This change has allowed the powerball to increase the coverage of the lottery thus implicitly causing higher jackpot payouts.</p>
</section>
</section>
<section id="god-s-view">
<h2><span class="section-number">13.4. </span>1.4 God’s view<a class="headerlink" href="#god-s-view" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Importing modules</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">rankdata</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">pandas</span> <span class="kn">import</span> <span class="n">ExcelWriter</span>

<span class="n">guessed_balls</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1">#guessed balls</span>
<span class="n">lottery_balls</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1">#lottery balls</span>

<span class="c1"># set high level stats</span>
<span class="n">plays</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">ticket_spending</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">winnings</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># set records of winnings</span>
<span class="n">jackpot</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">five_white</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">four_white_mega</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">four_white</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">three_white_mega</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">three_white</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">two_white_mega</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">one_white_mega</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">mega</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">dud</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">won</span> <span class="o">=</span> <span class="n">plays</span><span class="o">-</span><span class="n">dud</span>

<span class="c1"># 这个循环 Loop 跑了两个小时</span>

<span class="k">while</span> <span class="n">guessed_balls</span> <span class="o">!=</span> <span class="n">lottery_balls</span><span class="p">:</span>
    
    <span class="n">guessed_balls</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">69</span><span class="p">),</span> <span class="mi">5</span><span class="p">))</span>
    <span class="n">guessed_balls_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">guessed_balls</span><span class="p">)</span>
    <span class="n">guessed_megaball</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">26</span><span class="p">)</span>
    <span class="n">guessed_balls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">guessed_megaball</span><span class="p">)</span>  <span class="c1"># 加入附加球</span>

    <span class="n">lottery_balls</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">69</span><span class="p">),</span> <span class="mi">5</span><span class="p">))</span>
    <span class="n">lottery_balls_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">lottery_balls</span><span class="p">)</span>
    <span class="n">lottery_megaball</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">26</span><span class="p">)</span>
    <span class="n">lottery_balls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lottery_megaball</span><span class="p">)</span>  <span class="c1"># 加入附加球</span>
    
    <span class="n">difference_whites</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">guessed_balls_set</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">lottery_balls_set</span><span class="p">))</span>
    <span class="n">plays</span> <span class="o">+=</span><span class="mi">1</span>
    <span class="n">ticket_spending</span> <span class="o">+=</span><span class="mi">2</span>
    
    <span class="c1">#dud1</span>
    <span class="k">if</span> <span class="n">difference_whites</span> <span class="o">==</span> <span class="mi">10</span> <span class="ow">and</span> <span class="n">guessed_megaball</span> <span class="o">!=</span> <span class="n">lottery_megaball</span><span class="p">:</span>
        <span class="n">dud</span> <span class="o">+=</span><span class="mi">1</span>
    <span class="c1">#dud2</span>
    <span class="k">elif</span> <span class="n">difference_whites</span> <span class="o">==</span> <span class="mi">8</span> <span class="ow">and</span> <span class="n">guessed_megaball</span> <span class="o">!=</span> <span class="n">lottery_megaball</span><span class="p">:</span>
        <span class="n">dud</span> <span class="o">+=</span><span class="mi">1</span>
    <span class="c1">#dud3</span>
    <span class="k">elif</span> <span class="n">difference_whites</span> <span class="o">==</span> <span class="mi">6</span> <span class="ow">and</span> <span class="n">guessed_megaball</span> <span class="o">!=</span> <span class="n">lottery_megaball</span><span class="p">:</span>
        <span class="n">dud</span> <span class="o">+=</span><span class="mi">1</span>
    <span class="c1">#just megaball</span>
    <span class="k">elif</span> <span class="n">difference_whites</span> <span class="o">==</span> <span class="mi">10</span> <span class="ow">and</span> <span class="n">guessed_megaball</span> <span class="o">==</span> <span class="n">lottery_megaball</span><span class="p">:</span>
        <span class="n">mega</span> <span class="o">+=</span><span class="mi">1</span>
        <span class="n">winnings</span> <span class="o">+=</span> <span class="mi">2</span>
    <span class="c1">#1white and megaball</span>
    <span class="k">elif</span> <span class="n">difference_whites</span> <span class="o">==</span> <span class="mi">8</span> <span class="ow">and</span> <span class="n">guessed_megaball</span> <span class="o">==</span> <span class="n">lottery_megaball</span><span class="p">:</span>
        <span class="n">one_white_mega</span> <span class="o">+=</span><span class="mi">1</span>
        <span class="n">winnings</span> <span class="o">+=</span> <span class="mi">4</span>
    <span class="c1">#2white and megaball</span>
    <span class="k">elif</span> <span class="n">difference_whites</span> <span class="o">==</span> <span class="mi">6</span> <span class="ow">and</span> <span class="n">guessed_megaball</span> <span class="o">==</span> <span class="n">lottery_megaball</span><span class="p">:</span>
        <span class="n">two_white_mega</span> <span class="o">+=</span><span class="mi">1</span>
        <span class="n">winnings</span> <span class="o">+=</span> <span class="mi">10</span> 
    <span class="c1">#3white</span>
    <span class="k">elif</span> <span class="n">difference_whites</span> <span class="o">==</span> <span class="mi">4</span> <span class="ow">and</span> <span class="n">guessed_megaball</span> <span class="o">!=</span> <span class="n">lottery_megaball</span><span class="p">:</span>
        <span class="n">three_white</span> <span class="o">+=</span><span class="mi">1</span>
        <span class="n">winnings</span> <span class="o">+=</span> <span class="mi">10</span>
    <span class="c1">#3white and megaball</span>
    <span class="k">elif</span> <span class="n">difference_whites</span> <span class="o">==</span> <span class="mi">4</span> <span class="ow">and</span> <span class="n">guessed_megaball</span> <span class="o">==</span> <span class="n">lottery_megaball</span><span class="p">:</span>
        <span class="n">three_white_mega</span> <span class="o">+=</span><span class="mi">1</span>
        <span class="n">winnings</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="c1">#4white</span>
    <span class="k">elif</span> <span class="n">difference_whites</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">guessed_megaball</span> <span class="o">!=</span> <span class="n">lottery_megaball</span><span class="p">:</span>
        <span class="n">four_white</span> <span class="o">+=</span><span class="mi">1</span>
        <span class="n">winnings</span> <span class="o">+=</span> <span class="mi">500</span>
    <span class="c1">#4white and megaball</span>
    <span class="k">elif</span> <span class="n">difference_whites</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">guessed_megaball</span> <span class="o">==</span> <span class="n">lottery_megaball</span><span class="p">:</span>
        <span class="n">four_white_mega</span> <span class="o">+=</span><span class="mi">1</span>
        <span class="n">winnings</span> <span class="o">+=</span> <span class="mi">10000</span>
    <span class="c1">#5white</span>
    <span class="k">elif</span> <span class="n">difference_whites</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">guessed_megaball</span> <span class="o">!=</span> <span class="n">lottery_megaball</span><span class="p">:</span>
        <span class="n">five_white</span> <span class="o">+=</span><span class="mi">1</span> 
        <span class="n">winnings</span> <span class="o">+=</span> <span class="mi">1000000</span>
        <span class="k">break</span>
    <span class="c1">#jackpot</span>
    <span class="k">elif</span> <span class="n">difference_whites</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">guessed_megaball</span> <span class="o">==</span> <span class="n">lottery_megaball</span><span class="p">:</span>
        <span class="n">jackpot</span> <span class="o">+=</span><span class="mi">1</span>
        <span class="n">winnings</span> <span class="o">+=</span> <span class="mi">197000000</span>
        <span class="k">break</span>
<span class="nb">print</span><span class="p">(</span><span class="n">winnings</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="prize-quantity-won-barplot-log">
<h3><span class="section-number">13.4.1. </span>Prize Quantity Won &amp; Barplot 图调整log坐标<a class="headerlink" href="#prize-quantity-won-barplot-log" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sb</span>
<span class="n">sb</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;dark&quot;</span><span class="p">)</span>
<span class="n">sb</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">font_scale</span><span class="o">=</span><span class="mf">1.2</span><span class="p">)</span> 
<span class="n">fig_dims</span> <span class="o">=</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">fig_dims</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">yscale</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>
<span class="n">ds</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;prize&#39;</span><span class="p">:[</span><span class="s1">&#39;total plays&#39;</span><span class="p">,</span><span class="s1">&#39;dud&#39;</span><span class="p">,</span> <span class="s1">&#39;just mega&#39;</span><span class="p">,</span> <span class="s1">&#39;1white+mega&#39;</span><span class="p">,</span> <span class="s1">&#39;2white+mega&#39;</span><span class="p">,</span> <span class="s1">&#39;3white&#39;</span><span class="p">,</span><span class="s1">&#39;3white+mega&#39;</span><span class="p">,</span> <span class="s1">&#39;4white&#39;</span><span class="p">,</span> <span class="s1">&#39;4white+mega&#39;</span><span class="p">,</span> <span class="s1">&#39;5white&#39;</span><span class="p">,</span> <span class="s1">&#39;jackpot&#39;</span><span class="p">],</span> <span class="s1">&#39;quantity&#39;</span><span class="p">:[</span><span class="n">plays</span><span class="p">,</span> <span class="n">dud</span><span class="p">,</span> <span class="n">mega</span><span class="p">,</span> <span class="n">one_white_mega</span><span class="p">,</span> <span class="n">two_white_mega</span><span class="p">,</span> <span class="n">three_white</span><span class="p">,</span> <span class="n">three_white_mega</span><span class="p">,</span> <span class="n">four_white</span><span class="p">,</span> <span class="n">four_white_mega</span><span class="p">,</span> <span class="n">five_white</span><span class="p">,</span> <span class="n">jackpot</span><span class="p">]}</span>
<span class="n">dx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
<span class="n">sb</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;prize&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">dx</span><span class="p">)</span>


<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total plays:                        &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">plays</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total duds:                         &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dud</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">percent_wins</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="p">(</span><span class="n">dud</span><span class="o">/</span><span class="n">plays</span><span class="p">))</span>
<span class="n">percentage</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{:.0%}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">percent_wins</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;percent of plays that won any prize:&quot;</span><span class="p">,</span> <span class="n">percentage</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-----------------------------------------------------&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Prize Type                          &quot;</span><span class="p">,</span> <span class="s2">&quot;Quantity Won&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total just mega balls:              &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">mega</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 1white+mega:                  &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">one_white_mega</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 2white+mega:                  &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">two_white_mega</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 3white:                       &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">three_white</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 3white+mega:                  &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">three_white_mega</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 4white:                       &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">four_white</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 4white+mega:                  &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">four_white_mega</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 5white:                       &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">five_white</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total jackpot:                      &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">jackpot</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>total plays:                         332,842,963
total duds:                          318,955,658
percent of plays that won any prize: 4%
-----------------------------------------------------
Prize Type                           Quantity Won
total just mega balls:               9,029,055
total 1white+mega:                   3,759,258
total 2white+mega:                   492,944
total 3white:                        572,631
total 3white+mega:                   23,880
total 4white:                        9,092
total 4white+mega:                   401
total 5white:                        43
total jackpot:                       1
</pre></div>
</div>
<img alt="_images/c678fef6cb62de58c8d0189e134e4c35bf19dbb9cfb26dfb93b0983664bfcb9f.png" src="_images/c678fef6cb62de58c8d0189e134e4c35bf19dbb9cfb26dfb93b0983664bfcb9f.png" />
</div>
</div>
</section>
<section id="prize-quantity-won-barplot-linear">
<h3><span class="section-number">13.4.2. </span>Prize Quantity Won &amp; Barplot linear坐标不调整<a class="headerlink" href="#prize-quantity-won-barplot-linear" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sb</span>
<span class="n">sb</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;dark&quot;</span><span class="p">)</span>
<span class="n">sb</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">font_scale</span><span class="o">=</span><span class="mf">1.2</span><span class="p">)</span> 
<span class="n">fig_dims</span> <span class="o">=</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">fig_dims</span><span class="p">)</span>
<span class="n">ds</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;prize&#39;</span><span class="p">:[</span><span class="s1">&#39;total plays&#39;</span><span class="p">,</span><span class="s1">&#39;dud&#39;</span><span class="p">,</span> <span class="s1">&#39;just mega&#39;</span><span class="p">,</span> <span class="s1">&#39;1white+mega&#39;</span><span class="p">,</span> <span class="s1">&#39;2white+mega&#39;</span><span class="p">,</span> <span class="s1">&#39;3white&#39;</span><span class="p">,</span><span class="s1">&#39;3white+mega&#39;</span><span class="p">,</span> <span class="s1">&#39;4white&#39;</span><span class="p">,</span> <span class="s1">&#39;4white+mega&#39;</span><span class="p">,</span> <span class="s1">&#39;5white&#39;</span><span class="p">,</span> <span class="s1">&#39;jackpot&#39;</span><span class="p">],</span> <span class="s1">&#39;quantity&#39;</span><span class="p">:[</span><span class="n">plays</span><span class="p">,</span> <span class="n">dud</span><span class="p">,</span> <span class="n">mega</span><span class="p">,</span> <span class="n">one_white_mega</span><span class="p">,</span> <span class="n">two_white_mega</span><span class="p">,</span> <span class="n">three_white</span><span class="p">,</span> <span class="n">three_white_mega</span><span class="p">,</span> <span class="n">four_white</span><span class="p">,</span> <span class="n">four_white_mega</span><span class="p">,</span> <span class="n">five_white</span><span class="p">,</span> <span class="n">jackpot</span><span class="p">]}</span>
<span class="n">dx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
<span class="n">sb</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;prize&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">dx</span><span class="p">)</span>


<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total plays:                        &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">plays</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total duds:                         &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dud</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">percent_wins</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="p">(</span><span class="n">dud</span><span class="o">/</span><span class="n">plays</span><span class="p">))</span>
<span class="n">percentage</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{:.0%}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">percent_wins</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;percent of plays that won any prize:&quot;</span><span class="p">,</span> <span class="n">percentage</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-----------------------------------------------------&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Prize Type                          &quot;</span><span class="p">,</span> <span class="s2">&quot;Quantity Won&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total just mega balls:              &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">mega</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 1white+mega:                  &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">one_white_mega</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 2white+mega:                  &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">two_white_mega</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 3white:                       &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">three_white</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 3white+mega:                  &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">three_white_mega</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 4white:                       &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">four_white</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 4white+mega:                  &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">four_white_mega</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 5white:                       &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">five_white</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total jackpot:                      &quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">jackpot</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>total plays:                         332,842,963
total duds:                          318,955,658
percent of plays that won any prize: 4%
-----------------------------------------------------
Prize Type                           Quantity Won
total just mega balls:               9,029,055
total 1white+mega:                   3,759,258
total 2white+mega:                   492,944
total 3white:                        572,631
total 3white+mega:                   23,880
total 4white:                        9,092
total 4white+mega:                   401
total 5white:                        43
total jackpot:                       1
</pre></div>
</div>
<img alt="_images/2b209b8655b1421ac45509ef542f9d68671422cd1dfcb26a8fd6b7ea7e029752.png" src="_images/2b209b8655b1421ac45509ef542f9d68671422cd1dfcb26a8fd6b7ea7e029752.png" />
</div>
</div>
</section>
<section id="how-much-money-won-for-per-prize-barplot-linear">
<h3><span class="section-number">13.4.3. </span>How much money Won for per Prize &amp; Barplot linear<a class="headerlink" href="#how-much-money-won-for-per-prize-barplot-linear" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate variables</span>
<span class="n">jackpot_winnings</span> <span class="o">=</span> <span class="n">jackpot</span> <span class="o">*</span> <span class="mi">197000000</span>
<span class="n">five_white_winnings</span> <span class="o">=</span> <span class="n">five_white</span> <span class="o">*</span> <span class="mi">1000000</span>
<span class="n">four_white_mega_winnings</span> <span class="o">=</span> <span class="n">four_white_mega</span> <span class="o">*</span> <span class="mi">10000</span>
<span class="n">four_white_winnings</span> <span class="o">=</span> <span class="n">four_white</span> <span class="o">*</span> <span class="mi">500</span>
<span class="n">three_white_mega_winnings</span> <span class="o">=</span> <span class="n">three_white_mega</span> <span class="o">*</span> <span class="mi">200</span>
<span class="n">three_white_winnings</span> <span class="o">=</span> <span class="n">three_white</span> <span class="o">*</span> <span class="mi">10</span>
<span class="n">two_white_mega_winnings</span> <span class="o">=</span> <span class="n">two_white_mega</span> <span class="o">*</span> <span class="mi">10</span>
<span class="n">one_white_mega_winnings</span> <span class="o">=</span> <span class="n">one_white_mega</span> <span class="o">*</span> <span class="mi">4</span>
<span class="n">mega_winnings</span> <span class="o">=</span> <span class="n">mega</span> <span class="o">*</span> <span class="mi">2</span>

<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sb</span>
<span class="n">sb</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;dark&quot;</span><span class="p">)</span>
<span class="n">sb</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">font_scale</span><span class="o">=</span><span class="mf">1.2</span><span class="p">)</span> 
<span class="n">fig_dims</span> <span class="o">=</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">fig_dims</span><span class="p">)</span>
<span class="n">ds</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;prize&#39;</span><span class="p">:[</span><span class="s1">&#39;winnings&#39;</span><span class="p">,</span><span class="s1">&#39;just mega&#39;</span><span class="p">,</span><span class="s1">&#39;1white+mega&#39;</span><span class="p">,</span> <span class="s1">&#39;2white+mega&#39;</span><span class="p">,</span> <span class="s1">&#39;3white&#39;</span><span class="p">,</span> <span class="s1">&#39;3white+mega&#39;</span><span class="p">,</span><span class="s1">&#39;4white&#39;</span><span class="p">,</span> <span class="s1">&#39;4white+mega&#39;</span><span class="p">,</span> <span class="s1">&#39;5white&#39;</span><span class="p">,</span> <span class="s1">&#39;jackpot&#39;</span><span class="p">],</span><span class="s1">&#39;$&#39;</span><span class="p">:[</span><span class="n">winnings</span><span class="p">,</span> <span class="n">mega_winnings</span><span class="p">,</span> <span class="n">one_white_mega_winnings</span><span class="p">,</span><span class="n">two_white_mega_winnings</span><span class="p">,</span><span class="n">three_white_winnings</span><span class="p">,</span><span class="n">three_white_mega_winnings</span><span class="p">,</span><span class="n">four_white_winnings</span><span class="p">,</span><span class="n">four_white_mega_winnings</span><span class="p">,</span><span class="n">five_white_winnings</span><span class="p">,</span><span class="n">jackpot_winnings</span><span class="p">,]}</span>
<span class="n">dx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
<span class="n">sb</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;prize&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;$&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">dx</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total spent:                       $&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ticket_spending</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total won:                         $&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">winnings</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-----------------------------------------------------&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Prize Type                       &quot;</span><span class="p">,</span> <span class="s2">&quot;Won&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total just mega balls:             $&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">mega_winnings</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 1white+mega:                 $&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">one_white_mega_winnings</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 2white+mega:                 $&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">two_white_mega_winnings</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 3white:                      $&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">three_white_winnings</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 3white+mega:                 $&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">three_white_mega_winnings</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 4white:                      $&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">four_white_winnings</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 4white+mega:                 $&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">four_white_mega_winnings</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total 5white:                      $&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">five_white_winnings</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total jackpot:                     $&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">jackpot_winnings</span><span class="si">:</span><span class="s2">,d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>total spent:                       $ 665,685,926
total won:                         $ 297,082,892
-----------------------------------------------------
Prize Type                        Won
total just mega balls:             $ 18,058,110
total 1white+mega:                 $ 15,037,032
total 2white+mega:                 $ 4,929,440
total 3white:                      $ 5,726,310
total 3white+mega:                 $ 4,776,000
total 4white:                      $ 4,546,000
total 4white+mega:                 $ 4,010,000
total 5white:                      $ 43,000,000
total jackpot:                     $ 197,000,000
</pre></div>
</div>
<img alt="_images/b812d52e5cdca97829e056dd73b745896ff71a800ab74727e7534f3b4989b3b6.png" src="_images/b812d52e5cdca97829e056dd73b745896ff71a800ab74727e7534f3b4989b3b6.png" />
</div>
</div>
</section>
<section id="god-boss-s-view">
<h3><span class="section-number">13.4.4. </span>God(Boss)’s view<a class="headerlink" href="#god-boss-s-view" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;the winning ticket is...&quot;</span><span class="p">,</span> <span class="n">guessed_balls</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>the winning ticket is... [3, 11, 27, 31, 45, 25]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Summary statistics</span>
<span class="n">quant_titles</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;total plays&#39;</span><span class="p">,</span><span class="s1">&#39;dud&#39;</span><span class="p">,</span> <span class="s1">&#39;just mega&#39;</span><span class="p">,</span> <span class="s1">&#39;1white+mega&#39;</span><span class="p">,</span> <span class="s1">&#39;2white+mega&#39;</span><span class="p">,</span> <span class="s1">&#39;3white&#39;</span><span class="p">,</span><span class="s1">&#39;3white+mega&#39;</span><span class="p">,</span> <span class="s1">&#39;4white&#39;</span><span class="p">,</span> <span class="s1">&#39;4white+mega&#39;</span><span class="p">,</span> <span class="s1">&#39;5white&#39;</span><span class="p">,</span> <span class="s1">&#39;jackpot&#39;</span><span class="p">]</span>
<span class="n">quant_vals</span> <span class="o">=</span> <span class="p">[</span><span class="n">plays</span><span class="p">,</span> <span class="n">dud</span><span class="p">,</span> <span class="n">mega</span><span class="p">,</span> <span class="n">one_white_mega</span><span class="p">,</span> <span class="n">two_white_mega</span><span class="p">,</span> <span class="n">three_white</span><span class="p">,</span> <span class="n">three_white_mega</span><span class="p">,</span> <span class="n">four_white</span><span class="p">,</span> <span class="n">four_white_mega</span><span class="p">,</span> <span class="n">five_white</span><span class="p">,</span> <span class="n">jackpot</span><span class="p">]</span>
<span class="n">constants</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">500</span><span class="p">,</span><span class="mi">10000</span><span class="p">,</span><span class="mi">1000000</span><span class="p">,</span><span class="mi">197000000</span><span class="p">]</span>

<span class="n">array_quant_titles</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">quant_titles</span><span class="p">)</span>
<span class="n">array_quant_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">quant_vals</span><span class="p">)</span>
<span class="n">array_constants</span> <span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">constants</span><span class="p">)</span>

<span class="n">dataframe</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span> <span class="s1">&#39;titles&#39;</span><span class="p">:</span> <span class="n">array_quant_titles</span><span class="p">,</span><span class="s1">&#39;vals&#39;</span><span class="p">:</span> <span class="n">array_quant_vals</span><span class="p">,</span> <span class="s1">&#39;cost/wins&#39;</span><span class="p">:</span> <span class="n">array_constants</span><span class="p">})</span>
<span class="n">dataframe</span><span class="p">[</span><span class="s1">&#39;p_l&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dataframe</span><span class="p">[</span><span class="s1">&#39;vals&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">dataframe</span><span class="p">[</span><span class="s1">&#39;cost/wins&#39;</span><span class="p">]</span>

<span class="n">dataframe</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>titles</th>
      <th>vals</th>
      <th>cost/wins</th>
      <th>p_l</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>total plays</td>
      <td>332842963</td>
      <td>-2</td>
      <td>-665685926</td>
    </tr>
    <tr>
      <th>1</th>
      <td>dud</td>
      <td>318955658</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>just mega</td>
      <td>9029055</td>
      <td>2</td>
      <td>18058110</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1white+mega</td>
      <td>3759258</td>
      <td>4</td>
      <td>15037032</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2white+mega</td>
      <td>492944</td>
      <td>10</td>
      <td>4929440</td>
    </tr>
    <tr>
      <th>5</th>
      <td>3white</td>
      <td>572631</td>
      <td>10</td>
      <td>5726310</td>
    </tr>
    <tr>
      <th>6</th>
      <td>3white+mega</td>
      <td>23880</td>
      <td>200</td>
      <td>4776000</td>
    </tr>
    <tr>
      <th>7</th>
      <td>4white</td>
      <td>9092</td>
      <td>500</td>
      <td>4546000</td>
    </tr>
    <tr>
      <th>8</th>
      <td>4white+mega</td>
      <td>401</td>
      <td>10000</td>
      <td>4010000</td>
    </tr>
    <tr>
      <th>9</th>
      <td>5white</td>
      <td>43</td>
      <td>1000000</td>
      <td>43000000</td>
    </tr>
    <tr>
      <th>10</th>
      <td>jackpot</td>
      <td>1</td>
      <td>197000000</td>
      <td>197000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="another-way">
<h2><span class="section-number">13.5. </span>Another way<a class="headerlink" href="#another-way" title="Link to this heading">#</a></h2>
<p>来自：
<a class="github reference external" href="https://github.com/CoreyMSchafer/code_snippets/tree/master/Python/Python-Lottery-Simulation">CoreyMSchafer/code_snippets</a></p>
<p>视频教程：
<a class="reference external" href="https://www.youtube.com/watch?v=HZ8uXq5VG2w">https://www.youtube.com/watch?v=HZ8uXq5VG2w</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Creating a Lottery Simulator, from https://gist.github.com/Oiselenjakhian/26a7336a19a7cd1136dea3eec4b67cc8</span>
<span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randint</span> <span class="c1"># Import the randint function</span>
<span class="n">pickedNumbers</span> <span class="o">=</span> <span class="p">[]</span>         <span class="c1"># Initialize the empty list</span>

<span class="k">while</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pickedNumbers</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">6</span><span class="p">):</span> <span class="c1"># Generate numbers from 1 to 36 6 times</span>
  <span class="n">generated</span> <span class="o">=</span> <span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">36</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">generated</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pickedNumbers</span><span class="p">):</span>
    <span class="n">pickedNumbers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">generated</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">(</span><span class="n">pickedNumbers</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pickedNumbers</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pickedNumbers</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pickedNumbers</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pickedNumbers</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pickedNumbers</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">white_possibles</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">70</span><span class="p">))</span>
<span class="n">red_possibles</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">27</span><span class="p">))</span>

<span class="n">tickets_per_drawing</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">num_drawings</span> <span class="o">=</span> <span class="mi">15600</span>

<span class="n">total_spent</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">earnings</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">times_won</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;5+P&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;5&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;4+P&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;4&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;3+P&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;3&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;2+P&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;1+P&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;P&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;0&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">def</span> <span class="nf">calc_win_amt</span><span class="p">(</span><span class="n">my_numbers</span><span class="p">,</span> <span class="n">winning_numbers</span><span class="p">):</span>
    <span class="n">win_amt</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">white_matches</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">my_numbers</span><span class="p">[</span><span class="s2">&quot;whites&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span>
        <span class="n">winning_numbers</span><span class="p">[</span><span class="s2">&quot;whites&quot;</span><span class="p">]))</span>
    <span class="n">power_match</span> <span class="o">=</span> <span class="n">my_numbers</span><span class="p">[</span><span class="s2">&quot;red&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">winning_numbers</span><span class="p">[</span><span class="s2">&quot;red&quot;</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">white_matches</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">power_match</span><span class="p">:</span>
            <span class="n">win_amt</span> <span class="o">=</span> <span class="mi">2_000_000_000</span>
            <span class="n">times_won</span><span class="p">[</span><span class="s2">&quot;5+P&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">win_amt</span> <span class="o">=</span> <span class="mi">1_000_000</span>
            <span class="n">times_won</span><span class="p">[</span><span class="s2">&quot;5&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">white_matches</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">power_match</span><span class="p">:</span>
            <span class="n">win_amt</span> <span class="o">=</span> <span class="mi">50_000</span>
            <span class="n">times_won</span><span class="p">[</span><span class="s2">&quot;4+P&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">win_amt</span> <span class="o">=</span> <span class="mi">100</span>
            <span class="n">times_won</span><span class="p">[</span><span class="s2">&quot;4&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">white_matches</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">power_match</span><span class="p">:</span>
            <span class="n">win_amt</span> <span class="o">=</span> <span class="mi">100</span>
            <span class="n">times_won</span><span class="p">[</span><span class="s2">&quot;3+P&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">win_amt</span> <span class="o">=</span> <span class="mi">7</span>
            <span class="n">times_won</span><span class="p">[</span><span class="s2">&quot;3&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">white_matches</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">power_match</span><span class="p">:</span>
        <span class="n">win_amt</span> <span class="o">=</span> <span class="mi">7</span>
        <span class="n">times_won</span><span class="p">[</span><span class="s2">&quot;2+P&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">white_matches</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">power_match</span><span class="p">:</span>
        <span class="n">win_amt</span> <span class="o">=</span> <span class="mi">4</span>
        <span class="n">times_won</span><span class="p">[</span><span class="s2">&quot;1+P&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">power_match</span><span class="p">:</span>
        <span class="n">win_amt</span> <span class="o">=</span> <span class="mi">4</span>
        <span class="n">times_won</span><span class="p">[</span><span class="s2">&quot;P&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">times_won</span><span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">win_amt</span>


<span class="c1"># for drawing in range(num_drawings):</span>
<span class="n">hit_jp</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">drawings</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">years</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">drawings</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">white_drawing</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">white_possibles</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>
    <span class="n">red_drawing</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">red_possibles</span><span class="p">)</span>

    <span class="n">winning_numbers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;whites&quot;</span><span class="p">:</span> <span class="n">white_drawing</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">:</span> <span class="n">red_drawing</span><span class="p">}</span>

    <span class="k">for</span> <span class="n">ticket</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">tickets_per_drawing</span><span class="p">):</span>
        <span class="n">total_spent</span> <span class="o">+=</span> <span class="mi">2</span>
        <span class="n">my_whites</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">white_possibles</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>
        <span class="n">my_red</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">red_possibles</span><span class="p">)</span>

        <span class="n">my_numbers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;whites&quot;</span><span class="p">:</span> <span class="n">my_whites</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">:</span> <span class="n">my_red</span><span class="p">}</span>

        <span class="n">win_amt</span> <span class="o">=</span> <span class="n">calc_win_amt</span><span class="p">(</span><span class="n">my_numbers</span><span class="p">,</span> <span class="n">winning_numbers</span><span class="p">)</span>
        <span class="n">earnings</span> <span class="o">+=</span> <span class="n">win_amt</span>

        <span class="k">if</span> <span class="n">win_amt</span> <span class="o">==</span> <span class="mi">2_000_000_000</span><span class="p">:</span>
            <span class="n">hit_jp</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">break</span>

    <span class="k">if</span> <span class="n">drawings</span> <span class="o">%</span> <span class="mi">156</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">years</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">years</span><span class="si">}</span><span class="s1"> years&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">hit_jp</span><span class="p">:</span>
        <span class="k">break</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Spent: $</span><span class="si">{</span><span class="n">total_spent</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Earnings: $</span><span class="si">{</span><span class="n">earnings</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">times_won</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="nb_Geo.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">12. </span>Jonny Geo-Graph</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-the-total-number-of-combinations-permutations">13.1. 1.1 Calculating the Total number of Combinations &amp; Permutations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#total-number-of-combinations-and-permutations">13.1.1. Total Number of Combinations and Permutations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#total-number-of-combinations">13.1.2. Total Number of Combinations</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-the-odds-of-each-ticket-combination">13.2. 1.2 Calculating the Odds of Each Ticket Combination</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-the-odds-of-the-powerball-from-october-2015-current">13.2.1. Calculating the odds of the Powerball from October 2015 - Current</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-quick-clean">13.2.2. A Quick Clean</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-odds-with-getting-the-correct-powerball">13.2.3. The Odds with getting the correct Powerball</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-odds-without-getting-the-correct-powerball">13.2.4. The Odds without getting the correct Powerball</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-the-odds-of-the-powerball-from-january-2012-october-2015">13.2.5. Calculating the odds of the Powerball from January 2012 - October 2015</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-odds-with-getting-the-correct-powerball-2012-2015">13.2.6. The Odds with getting the correct Powerball (2012-2015)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-odds-without-getting-the-correct-powerball-2012-2015">13.2.7. The Odds without getting the correct Powerball (2012-2015)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-quick-comparison-between-the-two-odds">13.3. 1.3 A Quick Comparison between the two Odds</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-change-in-2015">13.3.1. The change in 2015</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#god-s-view">13.4. 1.4 God’s view</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prize-quantity-won-barplot-log">13.4.1. Prize Quantity Won &amp; Barplot 图调整log坐标</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prize-quantity-won-barplot-linear">13.4.2. Prize Quantity Won &amp; Barplot linear坐标不调整</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-much-money-won-for-per-prize-barplot-linear">13.4.3. How much money Won for per Prize &amp; Barplot linear</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#god-boss-s-view">13.4.4. God(Boss)’s view</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#another-way">13.5. Another way</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jonny, assisted by Tom
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>