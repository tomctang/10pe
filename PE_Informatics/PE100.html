
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>14. Project Euler Q1-100 &#8212; Jonny Workbook</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=3dee1f50" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'PE_Informatics/PE100';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="15. Project Euler Q101-" href="PE200.html" />
    <link rel="prev" title="13. Project Euler Math" href="PE_math.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
  
    <p class="title logo__title">Jonny Workbook</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Introduction
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Mathe &amp; FP/Language</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Alevel/Alevel_math.html">1. A-level-math</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Alevel/Alevel_math_further.html">2. A-level-further</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Course_MCM.html">3. Math Computational Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Course_Lean.html">4. Lean</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math/00intro_math.html">5. Math-FP-Lang Combo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math/01number_algebra.html">6. Number &amp; Algebra</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math/02discrete_continuous.html">7. Discrete &amp; Continuous</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math/03real_world.html">8. Real World Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math/05math_as_code.html">9. Math as code</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">CS &amp; Physics</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Course_MIT6001Python.html">10. MIT_CS6001-Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Course_MIT6002thinking.html">11. MIT_CS6002-CS</a></li>
<li class="toctree-l1"><a class="reference internal" href="PE_tags.html">12. Project Euler Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="PE_math.html">13. Project Euler Math</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">14. Project Euler Q1-100</a></li>
<li class="toctree-l1"><a class="reference internal" href="PE200.html">15. Project Euler Q101-</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Course_MCM_QM.html">16. Quantum Mechanics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../How_Dad_organise_QM.html">17. How Dad learn QM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Course_MCM_QFT.html">18. QFT</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Notebook</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../nb_past_courses.html">19. Past courses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../geo/nb_Geo.html">20. Geography and Maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nb_lottery_simulator.html">21. Lottery Math</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/tomctang/10pe" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/PE_Informatics/PE100.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Project Euler Q1-100</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-1">14.1. PE 1</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-2">14.2. PE 2</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-3">14.3. PE 3</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-sqrt-13">14.4. PE <span class="math notranslate nohighlight">\(\sqrt{13}\)</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-4">14.5. PE 4</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-5">14.6. PE 5</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-6">14.7. PE 6</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-7">14.8. PE 7</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-8">14.9. PE 8</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-9">14.10. PE 9</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-10">14.11. PE 10</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-11">14.12. PE 11</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-12">14.13. PE 12</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-13">14.14. PE 13</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-14">14.15. PE 14</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-15">14.16. PE 15</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-16">14.17. PE 16</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-17">14.18. PE 17</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-18">14.19. PE 18</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-19">14.20. PE 19</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-20">14.21. PE 20</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-21">14.22. PE 21</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-22">14.23. PE 22</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-23">14.24. PE 23</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-24">14.25. PE 24</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-25">14.26. PE 25</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-26">14.27. PE 26</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-27">14.28. PE 27</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-28">14.29. PE 28</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-29">14.30. PE 29</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-30">14.31. PE 30</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-31">14.32. PE 31</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-32">14.33. PE 32</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-33">14.34. PE 33</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-34">14.35. PE 34</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-35">14.36. PE 35</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-36">14.37. PE 36</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-37">14.38. PE 37</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-38">14.39. PE 38</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-39">14.40. PE 39</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-40">14.41. PE 40</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-41">14.42. PE 41</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-42">14.43. PE 42</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-43">14.44. PE 43</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-44">14.45. PE 44</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-45">14.46. PE 45</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-46">14.47. PE 46</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-47">14.48. PE 47</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-48">14.49. PE 48</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-49">14.50. PE 49</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-50">14.51. PE 50</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-51">14.52. PE 51</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-52">14.53. PE 52</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-53">14.54. PE 53</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-54">14.55. PE 54</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-55">14.56. PE 55</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-56">14.57. PE 56</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-57">14.58. PE 57</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-58">14.59. PE 58</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-59">14.60. PE 59</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-61">14.61. PE 61</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-62">14.62. PE 62</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-63">14.63. PE 63</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-64">14.64. PE 64</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-65">14.65. PE 65</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-66">14.66. PE 66</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-69">14.67. PE 69</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-70">14.68. PE 70</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-71">14.69. PE 71</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-72">14.70. PE 72</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-73">14.71. PE 73</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-74">14.72. PE 74</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-75">14.73. PE 75</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-77">14.74. PE 77</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-78">14.75. PE 78</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-79">14.76. PE 79</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-80">14.77. PE 80</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-82">14.78. PE 82</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-83">14.79. PE 83</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-85">14.80. PE 85</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-87">14.81. PE 87</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-89">14.82. PE 89</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-91">14.83. PE 91</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-92">14.84. PE 92</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-96">14.85. PE 96</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-99">14.86. PE 99</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-100">14.87. PE 100</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="project-euler-q1-100">
<h1><span class="section-number">14. </span>Project Euler Q1-100<a class="headerlink" href="#project-euler-q1-100" title="Link to this heading">#</a></h1>
<p>To solve PE problems so far, I include three approaches:</p>
<ul class="simple">
<li><p>Python: OOP &amp; FP</p></li>
<li><p>Sage</p></li>
<li><p>MMA (FP primarily)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># After I solved many questions, I found some functions repeated, eg.Prime-Check, Fibonacci. </span>
<span class="o">%</span><span class="k">run</span> PE_pre_running.py
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Extract PE tags</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bs4</span><span class="w"> </span><span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">session</span><span class="p">()</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://projecteuler.net/progress;show=tags&quot;</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;u=0, i&quot;</span><span class="p">},</span> <span class="n">cookies</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;PHPSESSID&quot;</span><span class="p">:</span> <span class="s2">&quot;622fec0276fc5b80ca546979eea9488a&quot;</span><span class="p">,</span> <span class="s2">&quot;sort_type&quot;</span><span class="p">:</span> <span class="s2">&quot;Solved&quot;</span><span class="p">,</span> <span class="s2">&quot;sort_method&quot;</span><span class="p">:</span> <span class="s2">&quot;Descending&quot;</span><span class="p">,</span> <span class="s2">&quot;keep_alive&quot;</span><span class="p">:</span> <span class="s2">&quot;1757293956</span><span class="si">%232146078%</span><span class="s2">23Lif2OJzk4ZF5eCtAzCoOIsAIOHJA6QL4&quot;</span><span class="p">})</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>   <span class="c1"># Parse the HTML content</span>

<span class="n">forms</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;form&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;csrf_form&quot;</span><span class="p">)</span>
<span class="n">tags</span> <span class="o">=</span> <span class="p">[</span><span class="n">form</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;input&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span><span class="p">)[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">form</span> <span class="ow">in</span> <span class="n">forms</span> <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;input&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tags</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="pe-1">
<h2><span class="section-number">14.1. </span>PE 1<a class="headerlink" href="#pe-1" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#1 Multiples of 3 or 5</span>
<span class="n">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="n">list_num</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">999</span><span class="o">//</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">m</span><span class="o">=</span><span class="n">i</span><span class="o">*</span><span class="mi">3</span>
    <span class="n">list_num</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">999</span><span class="o">//</span><span class="mi">5</span><span class="p">):</span>
    <span class="n">m</span><span class="o">=</span><span class="n">i</span><span class="o">*</span><span class="mi">5</span>
    <span class="k">if</span> <span class="n">m</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_num</span><span class="p">:</span>
        <span class="n">list_num</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">pass</span>
<span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">list_num</span><span class="p">:</span>
    <span class="n">sum_num</span><span class="o">+=</span><span class="n">num</span>
<span class="n">sum_num</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-2">
<h2><span class="section-number">14.2. </span>PE 2<a class="headerlink" href="#pe-2" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#2 Even Fibonacci Numbers</span>
<span class="n">num</span><span class="o">=</span><span class="mi">0</span>
<span class="n">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="n">list_fib</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3000000</span><span class="p">):</span>
    <span class="n">num</span><span class="o">=</span><span class="n">fastFib</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">list_fib</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">list_fib</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">num</span><span class="o">//</span><span class="mi">2</span><span class="o">==</span><span class="n">num</span><span class="o">/</span><span class="mi">2</span><span class="p">:</span>
        <span class="n">sum_num</span><span class="o">+=</span><span class="n">num</span>
<span class="n">sum_num</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-3">
<h2><span class="section-number">14.3. </span>PE 3<a class="headerlink" href="#pe-3" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">factor</span><span class="p">(</span><span class="mi">600851475143</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-sqrt-13">
<h2><span class="section-number">14.4. </span>PE <span class="math notranslate nohighlight">\(\sqrt{13}\)</span><a class="headerlink" href="#pe-sqrt-13" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">root13_digit_sum</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="mi">1000</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span>
        <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">13</span><span class="p">),</span> <span class="n">digits</span><span class="o">=</span><span class="n">digits</span><span class="o">+</span><span class="mi">5</span><span class="p">))</span>  <span class="c1"># +5 to be safe</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="n">digits</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>      <span class="c1"># skip the integer part &#39;3&#39;</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="n">root13_digit_sum</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Bonus Problem</span>
<span class="n">num</span><span class="o">=</span><span class="n">n</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">13</span><span class="p">),</span><span class="n">digits</span><span class="o">=</span><span class="mi">2000</span><span class="p">)</span>
<span class="n">lst</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>
<span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">1002</span><span class="p">]</span>
<span class="nb">sum</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span><span class="n">lst</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">continued_fraction</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">13</span><span class="p">))[</span><span class="mi">1</span><span class="p">:</span><span class="mi">1003</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bronze_ratio</span><span class="o">=</span><span class="mf">1.5</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1000</span><span class="p">):</span>
    <span class="n">bronze_ratio</span><span class="o">=</span><span class="mi">3</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="n">bronze_ratio</span>
<span class="n">bronze_ratio</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-4">
<h2><span class="section-number">14.5. </span>PE 4<a class="headerlink" href="#pe-4" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#4 Largest Palindrome Product</span>
<span class="n">m</span><span class="o">=</span><span class="mi">999</span>
<span class="n">n</span><span class="o">=</span><span class="mi">999</span>
<span class="n">list_palin</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">900</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">900</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="p">)</span>
        <span class="n">n</span><span class="o">-=</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">palindrome</span><span class="p">(</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Palindrome&#39;</span><span class="p">)</span>
            <span class="n">list_palin</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="p">)</span>
    <span class="n">m</span><span class="o">-=</span><span class="mi">1</span>
    <span class="n">n</span><span class="o">=</span><span class="mi">999</span>
<span class="nb">max</span><span class="p">(</span><span class="n">list_palin</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-5">
<h2><span class="section-number">14.6. </span>PE 5<a class="headerlink" href="#pe-5" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#5 Smallest Multiple</span>
<span class="mi">2520</span><span class="o">*</span><span class="mi">11</span><span class="o">*</span><span class="mi">13</span><span class="o">*</span><span class="mi">17</span><span class="o">*</span><span class="mi">19</span><span class="o">*</span><span class="mi">2</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-6">
<h2><span class="section-number">14.7. </span>PE 6<a class="headerlink" href="#pe-6" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 6 Sum Square Difference</span>
<span class="n">nums</span><span class="o">=</span><span class="p">[]</span>
<span class="n">sums</span><span class="o">=</span><span class="mi">0</span>
<span class="n">n</span><span class="o">=</span><span class="mi">1</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
    <span class="n">nums</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
<span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
    <span class="n">sums</span><span class="o">+=</span><span class="n">num</span>
<span class="n">sums</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 6 Sum Square Difference</span>
<span class="n">nums</span><span class="o">=</span><span class="p">[]</span>
<span class="n">sums</span><span class="o">=</span><span class="mi">0</span>
<span class="n">n</span><span class="o">=</span><span class="mi">1</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
    <span class="n">nums</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
<span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
    <span class="n">sums</span><span class="o">+=</span><span class="n">num</span><span class="o">**</span><span class="mi">2</span>
<span class="n">sums</span>

<span class="c1">#6 results</span>
<span class="mi">25502500</span><span class="o">-</span><span class="mi">338350</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-7">
<h2><span class="section-number">14.8. </span>PE 7<a class="headerlink" href="#pe-7" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#7 10001st Prime</span>
<span class="n">fd_prime</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-8">
<h2><span class="section-number">14.9. </span>PE 8<a class="headerlink" href="#pe-8" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#8 Largest Multiple In a Series</span>
<span class="n">num</span><span class="o">=</span><span class="mi">7316717653133062491922511967442657474235534919493496983520312774506326239578318016984801869478851843858615607891129494954595017379583319528532088055111254069874715852386305071569329096329522744304355766896648950445244523161731856403098711121722383113622298934233803081353362766142828064444866452387493035890729629049156044077239071381051585930796086670172427121883998797908792274921901699720888093776657273330010533678812202354218097512545405947522435258490771167055601360483958644670632441572215539753697817977846174064955149290862569321978468622482839722413756570560574902614079729686524145351004748216637048440319989000889524345065854122758866688116427171479924442928230863465674813919123162824586178664583591245665294765456828489128831426076900422421902267105562632111110937054421750694165896040807198403850962455444362981230987879927244284909188845801561660979191338754992005240636899125607176060588611646710940507754100225698315520005593572972571636269561882670428252483600823257530420752963450</span>
<span class="n">output</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)))</span>
<span class="n">nums</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">]</span>
<span class="n">list_num</span><span class="o">=</span><span class="p">[]</span>
<span class="n">maxval</span><span class="o">=</span><span class="mi">0</span>
<span class="n">val</span><span class="o">=</span><span class="mi">1</span>
<span class="k">while</span> <span class="n">nums</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&lt;=</span><span class="mi">999</span><span class="p">:</span>
    <span class="n">num0</span><span class="o">=</span><span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">num1</span><span class="o">=</span><span class="n">nums</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">n</span><span class="o">=</span><span class="n">num0</span>
    <span class="k">while</span> <span class="n">n</span><span class="o">&lt;=</span><span class="n">num1</span><span class="p">:</span>
        <span class="n">list_num</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">output</span><span class="p">[</span><span class="n">n</span><span class="p">])</span>
        <span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">13</span><span class="p">):</span>
        <span class="n">val</span><span class="o">*=</span><span class="n">list_num</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">val</span><span class="o">&gt;</span><span class="n">maxval</span><span class="p">:</span>
        <span class="n">maxval</span><span class="o">=</span><span class="n">val</span>
    <span class="n">val</span><span class="o">=</span><span class="mi">1</span>
    <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+=</span><span class="mi">1</span>
    <span class="n">nums</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+=</span><span class="mi">1</span>
    <span class="n">list_num</span><span class="o">=</span><span class="p">[]</span>
<span class="n">maxval</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-9">
<h2><span class="section-number">14.10. </span>PE 9<a class="headerlink" href="#pe-9" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#9 Special Pythagorean Triplet</span>
<span class="k">def</span><span class="w"> </span><span class="nf">sumPythagoreanTriplets</span><span class="p">(</span><span class="n">limits</span><span class="p">):</span> 
	<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span>
	<span class="n">num</span><span class="o">=</span><span class="p">[]</span>
	<span class="n">nums</span><span class="o">=</span><span class="p">[]</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1000</span><span class="p">):</span>
		<span class="n">num</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
	<span class="n">d</span><span class="o">=</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span>
	<span class="k">while</span> <span class="n">d</span><span class="o">&lt;</span><span class="n">limits</span> <span class="p">:</span> 
		<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span>
			<span class="n">a</span><span class="o">=</span><span class="n">m</span><span class="o">*</span><span class="n">m</span><span class="o">-</span><span class="n">n</span><span class="o">*</span><span class="n">n</span> 
			<span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">m</span><span class="o">*</span><span class="n">n</span> 
			<span class="n">c</span><span class="o">=</span><span class="n">m</span><span class="o">*</span><span class="n">m</span><span class="o">+</span><span class="n">n</span><span class="o">*</span><span class="n">n</span>
			<span class="n">d</span><span class="o">=</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span>
			<span class="k">if</span> <span class="n">d</span><span class="o">&gt;</span><span class="n">limits</span><span class="p">:</span> 
				<span class="k">break</span>
			<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Sum of triplet :&#39;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
			<span class="n">nums</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">d</span><span class="o">==</span><span class="mi">1000</span><span class="p">:</span>
				<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Special&#39;</span><span class="p">)</span>
		<span class="n">m</span><span class="o">+=</span><span class="mi">1</span>
	<span class="k">return</span> <span class="n">nums</span>
<span class="n">sumPythagoreanTriplets</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
<span class="n">pythagoreanTriplets</span><span class="p">(</span><span class="mi">750</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-10">
<h2><span class="section-number">14.11. </span>PE 10<a class="headerlink" href="#pe-10" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#10 Summation of Primes</span>
<span class="n">sum_prime</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2000000</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">prime</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
        <span class="n">sum_prime</span><span class="o">+=</span><span class="n">i</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sum_prime</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-11">
<h2><span class="section-number">14.12. </span>PE 11<a class="headerlink" href="#pe-11" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#11 Largest Product in a Grid</span>
<span class="mi">87</span><span class="o">*</span><span class="mi">97</span><span class="o">*</span><span class="mi">94</span><span class="o">*</span><span class="mi">89</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-12">
<h2><span class="section-number">14.13. </span>PE 12<a class="headerlink" href="#pe-12" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#12 Highly Divisible Triangular Number</span>
<span class="n">seq</span><span class="o">=</span><span class="n">triangular_seq</span><span class="p">(</span><span class="mi">12375</span><span class="p">)</span>
<span class="n">facs</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">triangular</span> <span class="ow">in</span> <span class="n">seq</span><span class="p">:</span>
    <span class="n">facs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num_fac</span><span class="p">(</span><span class="n">triangular</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">facs</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">&gt;=</span><span class="mi">500</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">facs</span><span class="p">))</span>
        <span class="k">break</span>
<span class="nb">max</span><span class="p">(</span><span class="n">facs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">facs</span><span class="p">))</span>
<span class="nb">max</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-13">
<h2><span class="section-number">14.14. </span>PE 13<a class="headerlink" href="#pe-13" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#13 Large Sum</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bs4</span><span class="w"> </span><span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://projecteuler.net/problem=13&quot;</span><span class="p">)</span>  <span class="c1"># Send a GET request to the URL</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>   <span class="c1"># Parse the HTML content</span>
<span class="n">numbers</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;problem_content&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># Find the content of interest (in this case, the numbers)</span>

<span class="n">numbers_list</span> <span class="o">=</span> <span class="n">numbers</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># Split the numbers into a list, assuming each number is separated by a newline character</span>
<span class="n">numbers_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">num</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">numbers_list</span> <span class="k">if</span> <span class="n">num</span><span class="p">]</span> <span class="c1"># Filter out any empty strings or irrelevant text</span>
<span class="n">numbers_list</span> <span class="o">=</span> <span class="n">numbers_list</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">101</span><span class="p">]</span> <span class="c1"># Ensure that we only take the first 100 numbers</span>

<span class="n">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="n">sets</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">num</span><span class="p">)</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">numbers_list</span><span class="p">]</span>  <span class="c1"># Convert the numbers from strings to integers and store them in a list</span>
<span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">sets</span><span class="p">:</span>
    <span class="n">sum_num</span><span class="o">+=</span><span class="n">num</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sum_num</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-14">
<h2><span class="section-number">14.15. </span>PE 14<a class="headerlink" href="#pe-14" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#14 Longest Collatz Sequence</span>
<span class="n">n</span><span class="o">=</span><span class="mi">1</span>
<span class="n">max_len</span><span class="o">=</span><span class="mi">1</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000000</span><span class="p">):</span>
    <span class="n">culen</span><span class="o">=</span><span class="n">collatz_length</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">culen</span><span class="o">==</span><span class="mi">525</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">culen</span><span class="o">&gt;</span><span class="n">max_len</span><span class="p">:</span>
        <span class="n">max_len</span><span class="o">=</span><span class="n">culen</span>
    <span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-15">
<h2><span class="section-number">14.16. </span>PE 15<a class="headerlink" href="#pe-15" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#15 Lattice Paths</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">paths</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-16">
<h2><span class="section-number">14.17. </span>PE 16<a class="headerlink" href="#pe-16" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#16 Power Digit Sum</span>
<span class="n">num</span><span class="o">=</span><span class="p">[</span><span class="mi">10715086071862673209484250490600018105614048117055336074437503883703510511249361224931983788156958581275946729175531468251871452856923140435984577574698574803934567774824230985421074605062371141877954182153046474983581941267398767559165543946077062914571196477686542167660429831652624386837205668069376</span><span class="p">]</span>
<span class="n">output</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
<span class="n">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">output</span><span class="p">:</span>
    <span class="n">sum_num</span><span class="o">+=</span><span class="n">number</span>
<span class="n">sum_num</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-17">
<h2><span class="section-number">14.18. </span>PE 17<a class="headerlink" href="#pe-17" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#17 Number Letter Counts</span>
<span class="n">solve</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-18">
<h2><span class="section-number">14.19. </span>PE 18<a class="headerlink" href="#pe-18" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#18 Maximum Path Sum I</span>
<span class="n">l1</span><span class="o">=</span><span class="p">[</span><span class="mi">75</span><span class="p">]</span>
<span class="n">l2</span><span class="o">=</span><span class="p">[</span><span class="mi">95</span><span class="p">,</span> <span class="mi">64</span><span class="p">]</span>
<span class="n">l3</span><span class="o">=</span><span class="p">[</span><span class="mi">17</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="mi">82</span><span class="p">]</span>
<span class="n">l4</span><span class="o">=</span><span class="p">[</span><span class="mi">18</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="n">l5</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">82</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="mi">65</span><span class="p">]</span>
<span class="n">l6</span><span class="o">=</span><span class="p">[</span><span class="mi">19</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">34</span><span class="p">]</span>
<span class="n">l7</span><span class="o">=</span><span class="p">[</span><span class="mi">88</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">77</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">67</span><span class="p">]</span>
<span class="n">l8</span><span class="o">=</span><span class="p">[</span><span class="mi">99</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">92</span><span class="p">]</span>
<span class="n">l9</span><span class="o">=</span><span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">83</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">33</span><span class="p">]</span>
<span class="n">l10</span><span class="o">=</span><span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">94</span><span class="p">,</span> <span class="mi">29</span><span class="p">]</span>
<span class="n">l11</span><span class="o">=</span><span class="p">[</span><span class="mi">53</span><span class="p">,</span> <span class="mi">71</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">91</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">97</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">14</span><span class="p">]</span>
<span class="n">l12</span><span class="o">=</span><span class="p">[</span><span class="mi">70</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">77</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">78</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="mi">68</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">57</span><span class="p">]</span>
<span class="n">l13</span><span class="o">=</span><span class="p">[</span><span class="mi">91</span><span class="p">,</span> <span class="mi">71</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">91</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">48</span><span class="p">]</span>
<span class="n">l14</span><span class="o">=</span><span class="p">[</span><span class="mi">63</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">68</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span> <span class="mi">53</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">31</span><span class="p">]</span>
<span class="n">l15</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">98</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">98</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">93</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">53</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">23</span><span class="p">]</span>
<span class="n">triangle</span><span class="o">=</span><span class="p">[</span><span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">,</span> <span class="n">l3</span><span class="p">,</span> <span class="n">l4</span><span class="p">,</span> <span class="n">l5</span><span class="p">,</span> <span class="n">l6</span><span class="p">,</span> <span class="n">l7</span><span class="p">,</span> <span class="n">l8</span><span class="p">,</span> <span class="n">l9</span><span class="p">,</span> <span class="n">l10</span><span class="p">,</span> <span class="n">l11</span><span class="p">,</span> <span class="n">l12</span><span class="p">,</span> <span class="n">l13</span><span class="p">,</span> <span class="n">l14</span><span class="p">,</span> <span class="n">l15</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">triangle</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">triangle</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
        <span class="n">triangle</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="nb">max</span><span class="p">(</span><span class="n">triangle</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">triangle</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">max_total</span> <span class="o">=</span> <span class="n">triangle</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">max_total</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-19">
<h2><span class="section-number">14.20. </span>PE 19<a class="headerlink" href="#pe-19" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#19 Counting Sundays</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span>
<span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1901</span><span class="p">,</span> <span class="mi">2001</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">month</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">weekday</span><span class="p">()</span><span class="o">==</span><span class="mi">6</span><span class="p">:</span>
            <span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-20">
<h2><span class="section-number">14.21. </span>PE 20<a class="headerlink" href="#pe-20" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#20 Factorial Digit Sum</span>
<span class="n">num</span><span class="o">=</span><span class="n">fact</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">output</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)))</span>
<span class="n">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">output</span><span class="p">:</span>
    <span class="n">sum_num</span><span class="o">+=</span><span class="n">number</span>
<span class="n">sum_num</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-21">
<h2><span class="section-number">14.22. </span>PE 21<a class="headerlink" href="#pe-21" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 21 Amicable Numbers</span>
<span class="n">amic</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10000</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">amicable</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
        <span class="n">amic</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="nb">sum</span><span class="p">(</span><span class="n">amic</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-22">
<h2><span class="section-number">14.23. </span>PE 22<a class="headerlink" href="#pe-22" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#22 Names Scores</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://projecteuler.net/resources/documents/0022_names.txt&quot;</span><span class="p">)</span>   <span class="c1"># Send a GET request to the URL</span>
<span class="n">content</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>     <span class="c1"># Read the content of the response</span>
<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)]</span>  <span class="c1"># Split the content by comma and remove double quotes</span>
<span class="n">names</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

<span class="n">value</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span><span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">:</span><span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">:</span><span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">:</span><span class="mi">17</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">:</span><span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;U&#39;</span><span class="p">:</span><span class="mi">21</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">:</span><span class="mi">22</span><span class="p">,</span> <span class="s1">&#39;W&#39;</span><span class="p">:</span><span class="mi">23</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">:</span><span class="mi">24</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">:</span><span class="mi">25</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">:</span><span class="mi">26</span><span class="p">}</span>
<span class="n">tot_score</span><span class="o">=</span><span class="mi">0</span>
<span class="n">place</span><span class="o">=</span><span class="mi">1</span>
<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
    <span class="n">score</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">name</span><span class="p">:</span>
        <span class="n">score</span><span class="o">+=</span><span class="n">value</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span>
    <span class="n">score</span><span class="o">*=</span><span class="n">place</span>
    <span class="n">tot_score</span><span class="o">+=</span><span class="n">score</span>
    <span class="n">place</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">tot_score</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">factors</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">facs</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mf">0.5</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n</span><span class="o">%</span><span class="k">i</span>==0:
            <span class="n">facs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">facs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">n</span> <span class="o">//</span> <span class="n">i</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">facs</span>
<span class="k">def</span><span class="w"> </span><span class="nf">abundant</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">factors</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="o">&gt;</span> <span class="n">n</span>
<span class="k">def</span><span class="w"> </span><span class="nf">sum_abundant</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">abundant_numbers</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">ab</span> <span class="ow">in</span> <span class="n">abundant_numbers</span><span class="p">:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="n">ab</span><span class="p">)</span> <span class="ow">in</span> <span class="n">abundant_numbers</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
<span class="n">abundant_numbers</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">28124</span><span class="p">)</span> <span class="k">if</span> <span class="n">abundant</span><span class="p">(</span><span class="n">i</span><span class="p">)}</span>
<span class="n">non_abundant_sums</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">28124</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">sum_abundant</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">abundant_numbers</span><span class="p">)]</span>
<span class="n">result</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">non_abundant_sums</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-23">
<h2><span class="section-number">14.24. </span>PE 23<a class="headerlink" href="#pe-23" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 23 Non-Abundant Sums</span>
<span class="k">def</span><span class="w"> </span><span class="nf">factors</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">facs</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mf">0.5</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>  <span class="c1"># 非常耗时，缩小范围</span>
        <span class="k">if</span> <span class="n">n</span><span class="o">%</span><span class="k">i</span>==0:
            <span class="n">facs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">facs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="o">//</span><span class="n">i</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">facs</span>

<span class="k">def</span><span class="w"> </span><span class="nf">abundant</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">factors</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="o">&gt;</span><span class="n">n</span>

<span class="k">def</span><span class="w"> </span><span class="nf">sum_abundant</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">abundant_numbers</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">ab</span> <span class="ow">in</span> <span class="n">abundant_numbers</span><span class="p">:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="n">ab</span><span class="p">)</span> <span class="ow">in</span> <span class="n">abundant_numbers</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
<span class="n">abundant_numbers</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">28124</span><span class="p">)</span> <span class="k">if</span> <span class="n">abundant</span><span class="p">(</span><span class="n">i</span><span class="p">)}</span>
<span class="n">non_abundant_sums</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">28124</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">sum_abundant</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">abundant_numbers</span><span class="p">)]</span>

<span class="nb">sum</span><span class="p">(</span><span class="n">non_abundant_sums</span><span class="p">)</span> <span class="c1"># Error: smaller by 258348</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-24">
<h2><span class="section-number">14.25. </span>PE 24<a class="headerlink" href="#pe-24" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#24 Lexicographic Permutations</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">itertools</span>
<span class="n">permutations</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">permutations</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>
<span class="n">millionth_permutation</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">permutations</span><span class="p">[</span><span class="mi">999999</span><span class="p">])))</span>
<span class="n">millionth_permutation</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-25">
<h2><span class="section-number">14.26. </span>PE 25<a class="headerlink" href="#pe-25" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#25 1000 Digit Fibonacci Number</span>
<span class="n">fastFib</span><span class="p">(</span><span class="mi">4781</span><span class="p">)</span>
<span class="n">length</span><span class="p">(</span><span class="mi">1731403589222002957294429346518895723709506082039860786521776201969997425190002580820509546929820263058457975554718584767897610032505496877507394744099980978096953962557220579370143960032185044755214925165471985133186165562568372954212266775160479690961083330407371040988504455586839093910684051542272860673487922394300583546141201071181523567766482697651998576131907383462584505182933770187893410602855362990044627645611957937480375221691136281665191108770486046208365987457152897898978151032624598781944378501953255407873508942191356136619446735012761729556373994129675990036580541567079157500214451848590106380276929004769735246144938528628285344388350842365138183068393693524442382719001304601982880025898373942014814103022093332575900147730351419594078092359452500825422173232850278854098501036548721303293491571977471641513836658780413653798660841910284032061829208989654332339843602086914702633919395534251088908273898020000096184168171559429402858006596531459999394154832243826895270097988797</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-26">
<h2><span class="section-number">14.27. </span>PE 26<a class="headerlink" href="#pe-26" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="mi">26</span> <span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span> <span class="n">learn</span> <span class="mi">4</span> <span class="n">functions</span><span class="p">:</span> 
    <span class="n">Association</span><span class="p">[]</span>
    <span class="n">Module</span><span class="p">[]</span>
    <span class="n">KeyExistsQ</span><span class="p">[]</span>
    <span class="n">Mod</span><span class="p">[]</span> <span class="o">*</span><span class="p">)</span>
<span class="n">cycleLength</span><span class="p">[</span><span class="n">d_</span><span class="p">]</span> <span class="o">:=</span> <span class="n">Module</span><span class="p">[{</span><span class="n">rems</span> <span class="o">=</span> <span class="n">Association</span><span class="p">[],</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="mi">1</span><span class="p">},</span>
  <span class="n">While</span><span class="p">[</span><span class="o">!</span><span class="w"> </span>KeyExistsQ<span class="o">[</span>rems,<span class="w"> </span>num<span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>num<span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="m">0</span>,
    <span class="n">rems</span><span class="p">[</span><span class="n">num</span><span class="p">]</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>
    <span class="n">num</span> <span class="o">=</span> <span class="n">Mod</span><span class="p">[</span><span class="mi">10</span> <span class="n">num</span><span class="p">,</span> <span class="n">d</span><span class="p">];</span>
    <span class="n">pos</span><span class="o">++</span>   <span class="p">];</span>
  <span class="n">If</span><span class="p">[</span><span class="n">num</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">pos</span> <span class="o">-</span> <span class="n">rems</span><span class="p">[</span><span class="n">num</span><span class="p">]]];</span>

<span class="n">SortBy</span><span class="p">[</span><span class="n">Range</span><span class="p">[</span><span class="mi">888</span><span class="p">,</span> <span class="mi">999</span><span class="p">],</span> <span class="n">cycleLength</span><span class="p">]</span>
<span class="n">cycleLength</span><span class="p">[</span><span class="mi">983</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-27">
<h2><span class="section-number">14.28. </span>PE 27<a class="headerlink" href="#pe-27" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#27 Quadratic Primes</span>
<span class="k">def</span><span class="w"> </span><span class="nf">sieveEratosthenes</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="n">isPrime</span> <span class="o">=</span> <span class="p">[</span><span class="kc">True</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">num</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">isPrime</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">isPrime</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">primes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">num</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">isPrime</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
            <span class="n">primes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">num</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">i</span><span class="p">):</span>
                <span class="n">isPrime</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">primes</span>
    
<span class="k">def</span><span class="w"> </span><span class="nf">isPrime</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">elif</span> <span class="n">num</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">or</span> <span class="n">num</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">num</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">num</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">num</span> <span class="o">%</span> <span class="mi">6</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span><span class="p">(</span><span class="n">num</span> <span class="o">%</span> <span class="mi">6</span> <span class="o">==</span> <span class="mi">5</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">*</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">num</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">num</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">num</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">6</span>
    
    <span class="k">return</span> <span class="kc">True</span>

<span class="k">def</span><span class="w"> </span><span class="nf">equation</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">n</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">a</span> <span class="o">*</span> <span class="n">n</span> <span class="o">+</span> <span class="n">b</span>

<span class="n">b</span> <span class="o">=</span> <span class="n">sieveEratosthenes</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="k">del</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">maxA</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">maxB</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">maxCount</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">b</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="n">y</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
        <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">isPrime</span><span class="p">(</span><span class="n">equation</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)):</span>
            <span class="n">c</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">maxCount</span> <span class="o">&lt;</span> <span class="n">c</span><span class="p">:</span>
            <span class="n">maxA</span> <span class="o">=</span> <span class="n">x</span>
            <span class="n">maxB</span> <span class="o">=</span> <span class="n">y</span>
            <span class="n">maxCount</span> <span class="o">=</span> <span class="n">c</span>
            
<span class="nb">print</span><span class="p">(</span><span class="n">maxA</span> <span class="o">*</span> <span class="n">maxB</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-28">
<h2><span class="section-number">14.29. </span>PE 28<a class="headerlink" href="#pe-28" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#28 Number Spiral Diagonals</span>
<span class="n">s</span><span class="o">=</span><span class="mi">1</span>
<span class="n">n</span><span class="o">=</span><span class="mi">1</span>
<span class="c1"># diagonal numbers included in n</span>
<span class="c1"># 1001-1+2=1002</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1002</span><span class="p">,</span><span class="mi">2</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
        <span class="n">n</span><span class="o">+=</span><span class="n">i</span>
        <span class="n">s</span><span class="o">+=</span><span class="n">n</span>
<span class="n">s</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-29">
<h2><span class="section-number">14.30. </span>PE 29<a class="headerlink" href="#pe-29" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#29 Distinct Powers</span>
<span class="n">list_num</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">99</span><span class="p">):</span>
    <span class="n">n</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">99</span><span class="p">):</span>
        <span class="n">m</span><span class="o">=</span><span class="n">j</span><span class="o">+</span><span class="mi">2</span>
        <span class="n">num</span><span class="o">=</span><span class="n">n</span><span class="o">**</span><span class="n">m</span>
        <span class="k">if</span> <span class="n">num</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_num</span><span class="p">:</span>
            <span class="n">list_num</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="n">list_num</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="nb">len</span><span class="p">(</span><span class="n">list_num</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-30">
<h2><span class="section-number">14.31. </span>PE 30<a class="headerlink" href="#pe-30" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#30 Digit Fifth Powers</span>
<span class="k">def</span><span class="w"> </span><span class="nf">fifth</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="n">n</span><span class="o">=</span><span class="p">[</span><span class="n">num</span><span class="p">]</span>
    <span class="n">output</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
    <span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">output</span><span class="p">:</span>
        <span class="n">power</span><span class="o">=</span><span class="n">number</span><span class="o">**</span><span class="mi">5</span>
        <span class="n">num</span><span class="o">-=</span><span class="n">power</span>
    <span class="k">if</span> <span class="n">num</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
<span class="n">list_num</span><span class="o">=</span><span class="p">[]</span>
<span class="n">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000000</span><span class="p">):</span>
    <span class="n">n</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span>
    <span class="k">if</span> <span class="n">fifth</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="n">list_num</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">list_num</span><span class="p">:</span>
    <span class="n">sum_num</span><span class="o">+=</span><span class="n">num</span>
<span class="n">sum_num</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#30 FP way</span>
<span class="k">def</span><span class="w"> </span><span class="nf">fifth1</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">num</span> <span class="o">==</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">digit</span><span class="p">)</span> <span class="o">**</span> <span class="mi">5</span> <span class="k">for</span> <span class="n">digit</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>

<span class="n">sum_num1</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">)</span> <span class="k">if</span> <span class="n">fifth1</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="n">sum_num1</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-31">
<h2><span class="section-number">14.32. </span>PE 31<a class="headerlink" href="#pe-31" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 31 Coin Sums: use graph traversal (DFS) with memoization</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">functools</span><span class="w"> </span><span class="kn">import</span> <span class="n">lru_cache</span>
<span class="n">valid_coins</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">]</span> 
<span class="nd">@lru_cache</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># memoizes the function to avoid redundant calculations</span>
<span class="k">def</span><span class="w"> </span><span class="nf">graph_search_ways</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">max_coin</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span>
        <span class="n">graph_search_ways</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="n">coin</span><span class="p">,</span> <span class="n">coin</span><span class="p">)</span> <span class="c1"># Recursive but not loop</span>
        <span class="k">if</span> <span class="n">coin</span> <span class="o">&lt;=</span> <span class="n">max_coin</span> <span class="ow">and</span> <span class="n">coin</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">coin</span> <span class="ow">in</span> <span class="n">valid_coins</span>
    <span class="p">)</span>

<span class="n">graph_search_ways</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="mi">31</span> <span class="n">Coin</span> <span class="n">Sums</span><span class="p">:</span> <span class="n">use</span> <span class="n">graph</span> <span class="n">traversal</span> <span class="p">(</span><span class="n">DFS</span><span class="p">)</span> <span class="k">with</span> <span class="n">memoization</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span> <span class="n">learn</span> <span class="n">functions</span><span class="p">:</span>
    <span class="n">ClearAll</span><span class="p">[]</span> 
    <span class="n">Memoization</span><span class="p">(</span><span class="o">:=</span> <span class="o">...</span> <span class="o">=</span><span class="p">):</span> <span class="n">store</span> <span class="n">results</span> <span class="n">to</span> <span class="n">avoid</span> <span class="n">recalculating</span> <span class="k">for</span> <span class="n">the</span> <span class="n">same</span> <span class="n">pair</span>
    <span class="n">Table</span><span class="p">[]:</span> <span class="n">loop</span> <span class="n">over</span> <span class="n">each</span> <span class="n">coin</span> <span class="ow">in</span> <span class="n">validCoins</span> <span class="o">*</span><span class="p">)</span>
<span class="n">ClearAll</span><span class="p">[</span><span class="n">graphSearchWays</span><span class="p">];</span>
<span class="n">validCoins</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">};</span>
<span class="n">graphSearchWays</span><span class="p">[</span><span class="n">n_</span><span class="p">,</span> <span class="n">maxCoin_</span><span class="p">]</span> <span class="o">:=</span> <span class="n">graphSearchWays</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="n">maxCoin</span><span class="p">]</span> <span class="o">=</span>
  <span class="n">If</span><span class="p">[</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> 
          <span class="mi">1</span><span class="p">,</span> 
   <span class="n">Total</span><span class="p">[</span><span class="n">Table</span><span class="p">[</span><span class="n">If</span><span class="p">[</span><span class="n">coin</span> <span class="o">&lt;=</span> <span class="n">maxCoin</span> <span class="o">&amp;&amp;</span> <span class="n">coin</span> <span class="o">&lt;=</span> <span class="n">n</span> 
                  <span class="p">,</span> <span class="n">graphSearchWays</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="n">coin</span><span class="p">,</span> <span class="n">coin</span><span class="p">]</span>
                  <span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">{</span><span class="n">coin</span><span class="p">,</span> <span class="n">validCoins</span><span class="p">}]</span> <span class="p">]];</span>

<span class="n">graphSearchWays</span><span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">]</span> <span class="p">(</span><span class="o">*</span><span class="n">calculate</span> <span class="n">n</span> <span class="n">of</span> <span class="n">total</span> <span class="n">pairs</span><span class="o">*</span><span class="p">)</span>
<span class="n">TreeForm</span><span class="p">[</span> <span class="p">(</span><span class="o">*</span><span class="n">see</span> <span class="n">logic</span> <span class="n">structure</span><span class="o">*</span><span class="p">)</span>
  <span class="n">If</span><span class="p">[</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> 
  <span class="n">Total</span><span class="p">[</span><span class="n">Table</span><span class="p">[</span><span class="n">If</span><span class="p">[</span><span class="n">coin</span> <span class="o">&lt;=</span> <span class="n">maxCoin</span> <span class="o">&amp;&amp;</span> <span class="n">coin</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">,</span> 
              <span class="n">graphSearchWays</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="n">coin</span><span class="p">,</span> <span class="n">coin</span><span class="p">],</span> 
              <span class="mi">0</span><span class="p">],</span> <span class="p">{</span><span class="n">coin</span><span class="p">,</span> <span class="n">validCoins</span><span class="p">}]]]]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-32">
<h2><span class="section-number">14.33. </span>PE 32<a class="headerlink" href="#pe-32" title="Link to this heading">#</a></h2>
<p>Math easy, coding hard.</p>
<ol class="arabic simple">
<li><p>memoization use (:= … )</p></li>
<li><p>gen number from digits using string, all possible combinations of digits where each digit be used only once</p></li>
<li><p>I tried numerically way, but computing time doubled</p></li>
<li><p>IntegerString[], Characters[]</p></li>
<li><p>Flatten[], flatten nested lists</p></li>
<li><p>Apply[] -&gt; &#64;&#64;</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#32 Pandigital Products</span>
<span class="k">def</span><span class="w"> </span><span class="nf">checkPandigital</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
	<span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">):</span>
		<span class="k">return</span> <span class="mi">0</span>
	<span class="nb">hash</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">b</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">n</span><span class="p">)):</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="s1">&#39;0&#39;</span> <span class="ow">and</span> <span class="n">n</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="s1">&#39;9&#39;</span><span class="p">):</span>
			<span class="nb">hash</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">1</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">if</span> <span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">b</span> <span class="o">-</span> <span class="mi">11</span><span class="p">):</span>
			    <span class="nb">hash</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">b</span><span class="p">):</span>
		<span class="k">if</span> <span class="p">(</span><span class="nb">hash</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
			<span class="k">return</span> <span class="mi">0</span>
	<span class="k">return</span> <span class="mi">1</span>
<span class="c1">#cal</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">13</span>
<span class="n">n</span> <span class="o">=</span> <span class="s2">&quot;1298450376ABC&quot;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">checkPandigital</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">n</span><span class="p">)):</span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Yes&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="mi">32</span> <span class="n">Pandigital</span> <span class="n">Products</span> <span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span> <span class="n">Check</span> <span class="k">if</span> <span class="n">the</span> <span class="n">concatenation</span> <span class="n">of</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">product</span> <span class="n">forms</span> <span class="n">a</span> <span class="mi">1</span><span class="o">-</span><span class="mi">9</span> <span class="n">pandigital</span> <span class="n">number</span> <span class="n">stringly</span><span class="o">*</span><span class="p">)</span>
<span class="n">pandigitalQ</span><span class="p">[</span><span class="n">x_</span><span class="p">,</span> <span class="n">y_</span><span class="p">,</span> <span class="n">xy_</span><span class="p">]</span> <span class="o">:=</span> 
  <span class="n">StringLength</span><span class="p">[</span> <span class="nb">str</span><span class="o">=</span><span class="n">IntegerString</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">&lt;&gt;</span> <span class="n">IntegerString</span><span class="p">[</span><span class="n">y</span><span class="p">]</span> <span class="o">&lt;&gt;</span> <span class="n">IntegerString</span><span class="p">[</span><span class="n">xy</span><span class="p">]</span> <span class="p">]</span> <span class="o">==</span> <span class="mi">9</span> <span class="o">&amp;&amp;</span> 
  <span class="n">Sort</span><span class="p">[</span><span class="n">Characters</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">==</span> <span class="n">Characters</span><span class="p">[</span><span class="s2">&quot;123456789&quot;</span><span class="p">]</span> <span class="p">;</span> 

<span class="p">(</span><span class="o">*</span> <span class="n">List</span> <span class="nb">all</span> <span class="n">valid</span> <span class="n">xy</span> <span class="n">then</span> <span class="nb">sum</span> <span class="o">*</span><span class="p">)</span>
<span class="n">pandigitalProducts</span> <span class="o">=</span> <span class="n">DeleteDuplicates</span><span class="p">[</span>
    <span class="n">Select</span><span class="p">[</span> <span class="n">Flatten</span><span class="p">[</span> <span class="n">Table</span><span class="p">[{</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">},</span> <span class="p">{</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">99</span><span class="p">},</span> <span class="p">{</span><span class="n">y</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">9999</span><span class="p">}],</span> <span class="mi">1</span> <span class="p">]</span>
          <span class="p">,</span> <span class="n">pandigitalQ</span> <span class="o">@@</span> <span class="c1"># &amp; ]</span>
          <span class="p">[[</span><span class="n">All</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span> <span class="p">]</span>

<span class="n">Total</span><span class="p">[</span><span class="n">pandigitalProducts</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-33">
<h2><span class="section-number">14.34. </span>PE 33<a class="headerlink" href="#pe-33" title="Link to this heading">#</a></h2>
<p>Methods &amp; Process</p>
<ul class="simple">
<li><p>check for 2 digit numerators and denominators
49/98=4/8, 3 left to go</p></li>
<li><p>must have at least one common digit between numerator and denominator</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 33 Digit Cancelling Fractions</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span><span class="o">%</span><span class="k">10</span>!=0 or j%10!=0:
            <span class="n">numerator</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)))</span>
            <span class="n">denominator</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">j</span><span class="p">)))</span>
            <span class="n">fraction</span><span class="o">=</span><span class="n">i</span><span class="o">/</span><span class="n">j</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">numerator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">denominator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">numerator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">!=</span><span class="n">denominator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">fraction</span><span class="o">==</span><span class="n">numerator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="n">denominator</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">numerator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">denominator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">numerator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="n">denominator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">fraction</span><span class="o">==</span><span class="n">numerator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">denominator</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">numerator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">denominator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">numerator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">!=</span><span class="n">denominator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">fraction</span><span class="o">==</span><span class="n">numerator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="n">denominator</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">numerator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">denominator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">numerator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="n">denominator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">fraction</span><span class="o">==</span><span class="n">numerator</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">denominator</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-34">
<h2><span class="section-number">14.35. </span>PE 34<a class="headerlink" href="#pe-34" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#34 Digit Factorials</span>
<span class="k">def</span><span class="w"> </span><span class="nf">spefact</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="n">n</span><span class="o">=</span><span class="p">[</span><span class="n">num</span><span class="p">]</span>
    <span class="n">output</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
    <span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">output</span><span class="p">:</span>
        <span class="n">fac</span><span class="o">=</span><span class="n">factorial</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
        <span class="n">num</span><span class="o">-=</span><span class="n">fac</span>
    <span class="k">if</span> <span class="n">num</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
<span class="n">list_num</span><span class="o">=</span><span class="p">[]</span>
<span class="n">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1850000</span><span class="p">):</span>
    <span class="n">n</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span>
    <span class="k">if</span> <span class="n">spefact</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="n">list_num</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">list_num</span><span class="p">:</span>
    <span class="n">sum_num</span><span class="o">+=</span><span class="n">num</span>
<span class="n">sum_num</span><span class="o">-=</span><span class="mi">3</span>
<span class="n">sum_num</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#34 FP way</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">math</span><span class="w"> </span><span class="kn">import</span> <span class="n">factorial</span>

<span class="n">factorials</span> <span class="o">=</span> <span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">d</span><span class="p">):</span> <span class="n">factorial</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)}</span> <span class="c1"># Precompute factorials for digits 0-9</span>
<span class="k">def</span><span class="w"> </span><span class="nf">is_digit_factorial</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">num</span> <span class="o">==</span> <span class="nb">sum</span><span class="p">(</span><span class="n">factorials</span><span class="p">[</span><span class="n">digit</span><span class="p">]</span> <span class="k">for</span> <span class="n">digit</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>

<span class="n">sum_num</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1850000</span><span class="p">)</span> <span class="k">if</span> <span class="n">is_digit_factorial</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="n">sum_num</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-35">
<h2><span class="section-number">14.36. </span>PE 35<a class="headerlink" href="#pe-35" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#35 Circular Sums</span>
<span class="k">def</span><span class="w"> </span><span class="nf">list_to_int</span><span class="p">(</span><span class="n">lst</span><span class="p">):</span>
    <span class="n">n</span><span class="o">=</span><span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
        <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">circular_prime1</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">prime</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="kc">False</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">list_prime</span><span class="o">=</span><span class="p">[]</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_prime</span><span class="p">)</span><span class="o">&lt;</span><span class="n">length</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">output</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span>
            <span class="n">list_prime</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">prime</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="kc">False</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">first</span><span class="o">=</span><span class="n">output</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">output</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">first</span><span class="p">)</span>
                <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">first</span><span class="p">)</span>
                <span class="n">n</span><span class="o">=</span><span class="n">list_to_int</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">prime1</span> <span class="ow">in</span> <span class="n">list_prime</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">prime</span><span class="p">(</span><span class="n">prime1</span><span class="p">)</span><span class="o">==</span><span class="kc">False</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>

<span class="c1">#cal</span>
<span class="n">list_circ</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">999998</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">i</span><span class="o">%</span><span class="k">100</span>==0:
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">n</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span>
    <span class="k">if</span> <span class="n">circular_prime1</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
        <span class="n">list_circ</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">list_circ</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#35 FP</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sympy</span><span class="w"> </span><span class="kn">import</span> <span class="n">isprime</span>  <span class="c1"># how can we use Jonny-defined function here? </span>

<span class="k">def</span><span class="w"> </span><span class="nf">rotations</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>  <span class="c1"># Function to get all rotations of a number</span>
    <span class="n">s</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">:]</span> <span class="o">+</span> <span class="n">s</span><span class="p">[:</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))]</span>

<span class="k">def</span><span class="w"> </span><span class="nf">is_circular_prime</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="n">isprime</span><span class="p">(</span><span class="n">rot</span><span class="p">)</span> <span class="k">for</span> <span class="n">rot</span> <span class="ow">in</span> <span class="n">rotations</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>

<span class="n">circular_primes</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">999999</span><span class="p">)</span> <span class="k">if</span> <span class="n">is_circular_prime</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
<span class="n">circular_primes</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span><span class="mi">35</span> <span class="n">Circular</span> <span class="n">Sums</span><span class="o">*</span><span class="p">)</span> 
<span class="n">rotations</span><span class="p">[</span><span class="n">n_Integer</span><span class="p">]</span> <span class="o">:=</span> <span class="n">Module</span><span class="p">[{</span><span class="n">digits</span> <span class="o">=</span> <span class="n">IntegerDigits</span><span class="p">[</span><span class="n">n</span><span class="p">]},</span>
  <span class="n">FromDigits</span> <span class="o">/@</span> <span class="n">NestList</span><span class="p">[</span><span class="n">RotateLeft</span><span class="p">,</span> <span class="n">digits</span><span class="p">,</span> <span class="n">Length</span><span class="p">[</span><span class="n">digits</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span>

<span class="n">isCircularPrime</span><span class="p">[</span><span class="n">n_Integer</span><span class="p">]</span> <span class="o">:=</span> <span class="n">AllTrue</span><span class="p">[</span><span class="n">rotations</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">PrimeQ</span><span class="p">]</span> <span class="p">(</span><span class="o">*</span><span class="k">if</span> <span class="nb">all</span> <span class="n">rotations</span> <span class="n">of</span> <span class="n">a</span> <span class="n">number</span> <span class="n">are</span> <span class="n">prime</span><span class="o">*</span><span class="p">)</span>
<span class="n">circularPrimes</span> <span class="o">=</span> <span class="n">Select</span><span class="p">[</span><span class="n">Range</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">999999</span><span class="p">],</span> <span class="n">isCircularPrime</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-36">
<h2><span class="section-number">14.37. </span>PE 36<a class="headerlink" href="#pe-36" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#36 Double Base Palindromes</span>
<span class="k">def</span><span class="w"> </span><span class="nf">binary</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">bin</span><span class="p">(</span><span class="n">num</span><span class="p">)[</span><span class="mi">2</span><span class="p">:])</span>
<span class="n">list_num</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000000</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">palin</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="ow">and</span> <span class="n">palin</span><span class="p">(</span><span class="n">binary</span><span class="p">(</span><span class="n">i</span><span class="p">)):</span>
        <span class="n">list_num</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="n">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">list_num</span><span class="p">:</span>
    <span class="n">sum_num</span><span class="o">+=</span><span class="n">number</span>
<span class="n">sum_num</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-37">
<h2><span class="section-number">14.38. </span>PE 37<a class="headerlink" href="#pe-37" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#37 Truncatable Primes</span>
<span class="k">def</span><span class="w"> </span><span class="nf">truncatable</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="nb">input</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)))</span>
    <span class="n">inp</span><span class="o">=</span><span class="n">list_to_int</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">prime</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
        <span class="k">while</span> <span class="n">length</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">prime</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">==</span><span class="kc">True</span> <span class="ow">and</span> <span class="n">num</span><span class="o">!=</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">output</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)))</span>
                <span class="n">output</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">output</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">num</span><span class="o">=</span><span class="n">list_to_int</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">while</span> <span class="n">length</span><span class="p">(</span><span class="n">inp</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_prime</span><span class="p">(</span><span class="n">inp</span><span class="p">)</span><span class="o">==</span><span class="kc">True</span> <span class="ow">and</span> <span class="n">num</span><span class="o">!=</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">output</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">inp</span><span class="p">)))</span>
                <span class="n">output</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">output</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                <span class="n">inp</span><span class="o">=</span><span class="n">list_to_int</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
<span class="c1">#cal</span>
<span class="n">list_trun</span><span class="o">=</span><span class="p">[]</span>
<span class="n">n</span><span class="o">=</span><span class="mi">10</span>
<span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_trun</span><span class="p">)</span><span class="o">&lt;=</span><span class="mi">10</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">truncatable</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
        <span class="n">list_trun</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">list_trun</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-38">
<h2><span class="section-number">14.39. </span>PE 38<a class="headerlink" href="#pe-38" title="Link to this heading">#</a></h2>
<blockquote>
<div><p>Methods &amp; Process</p>
</div></blockquote>
<ul class="simple">
<li><p>Already presented (1,2,3) and (1,2,3,4,5)-&gt;918273645, (1,2,3,4,5,6,7,8,9)-&gt;123456789, calculated 3 options and n&gt;1
left 2 options: (1,2,3,4,5,6,7) (1,2,3,4,5,6,7,8)</p></li>
<li><p>When multiplied by 1 and 2, the numbers will be 4-digit and 5-digit,</p></li>
<li><p>when multiplied by 1, 2, 3 and 4, the numbers will be 2-digit for the first 3 and 3-digit for the last number,</p></li>
<li><p>when multiplied by 1, 2, 3, 4, 5 and 6, the number will be 1-digit for the first 3 and 2-digit for the last 3 numbers.</p></li>
<li><p>(1,2,3,4,5,6,7) and (1,2,3,4,5,6,7,8) not possible because too many numbers to multiply by.
9352*2=18704, 935218704 contains 0 is not answer</p></li>
</ul>
<blockquote>
<div><p>Conclusion</p>
</div></blockquote>
<ul class="simple">
<li><p>The biggest number in the lists is 9352, 9352*2=18704, but 935218704 is not 1 to 9 pandigital</p></li>
<li><p>The next biggest number in the lists is 9327, 9327*2=18654, 932618654 is 1 to 9 pandigital.
Thus the answer should be 932618654.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="mi">38</span> <span class="n">Pandigital</span> <span class="n">Multiples</span> <span class="o">*</span><span class="p">)</span>

<span class="n">lst</span><span class="o">=</span><span class="n">Select</span><span class="p">[</span><span class="n">Range</span><span class="p">[</span><span class="mi">5000</span><span class="p">,</span> <span class="mi">9999</span><span class="p">],</span> 
  <span class="n">Function</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> 
    <span class="n">Length</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">IntegerDigits</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">IntegerDigits</span><span class="p">[</span><span class="mi">2</span> <span class="n">n</span><span class="p">]]]</span> <span class="o">==</span> <span class="mi">9</span> <span class="o">&amp;&amp;</span> 
    <span class="mi">1000</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">100000</span>
  <span class="p">]</span>
<span class="p">];</span>
<span class="n">lst</span><span class="p">[[</span><span class="o">-</span><span class="mi">2</span><span class="p">;;]]</span> <span class="p">(</span><span class="o">*</span><span class="n">cannot</span> <span class="n">contain</span> <span class="mi">5</span> <span class="ow">in</span> <span class="n">number</span> <span class="n">unless</span> <span class="n">number</span> <span class="n">afterwards</span> <span class="ow">is</span> <span class="mi">6</span> <span class="ow">or</span> <span class="n">bigger</span><span class="o">*</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-39">
<h2><span class="section-number">14.40. </span>PE 39<a class="headerlink" href="#pe-39" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">pythagoreanTriplets3</span><span class="p">(</span><span class="n">limits</span><span class="p">)</span> <span class="p">:</span> 
	<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span>
	<span class="n">triplet_sums</span><span class="o">=</span><span class="p">[]</span>
	<span class="k">while</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span> <span class="o">&lt;</span> <span class="n">limits</span> <span class="p">:</span> 
		<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span> <span class="p">:</span> 
			<span class="n">a</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">m</span> <span class="o">-</span> <span class="n">n</span> <span class="o">*</span> <span class="n">n</span> 
			<span class="n">b</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">m</span> <span class="o">*</span> <span class="n">n</span> 
			<span class="n">c</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">m</span> <span class="o">+</span> <span class="n">n</span> <span class="o">*</span> <span class="n">n</span>
			<span class="k">if</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span> <span class="o">&gt;</span> <span class="n">limits</span> <span class="p">:</span> 
				<span class="k">break</span>
			<span class="n">triplet_sums</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span><span class="p">)</span>
			<span class="c1"># print(a, b, c)</span>
		<span class="n">m</span> <span class="o">=</span> <span class="n">m</span> <span class="o">+</span> <span class="mi">1</span>
	<span class="nb">print</span><span class="p">(</span><span class="n">triplet_sums</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">pythagoreanTriplets2</span><span class="p">(</span><span class="n">limits</span><span class="p">):</span>
	<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span>
	<span class="n">triplet_sums</span><span class="o">=</span><span class="p">[]</span>
	<span class="k">while</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span> <span class="o">&lt;</span> <span class="n">limits</span><span class="p">:</span>
		<span class="n">a</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">m</span>
		<span class="n">b</span><span class="o">=</span><span class="n">m</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span> 
		<span class="n">c</span><span class="o">=</span><span class="n">m</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span> 
		<span class="k">if</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span> <span class="o">&gt;</span> <span class="n">limits</span><span class="p">:</span> 
			<span class="k">break</span>
		<span class="n">triplet_sums</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span><span class="p">)</span>
		<span class="c1"># print(a,b,c)</span>
		<span class="n">m</span><span class="o">+=</span><span class="mi">1</span>
	<span class="nb">print</span><span class="p">(</span><span class="n">triplet_sums</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#39 Integer Right Triangles</span>
<span class="c1"># Ans:LCM(70,120)=840</span>
<span class="n">pythagoreanTriplets2</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">pythagoreanTriplets3</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-40">
<h2><span class="section-number">14.41. </span>PE 40<a class="headerlink" href="#pe-40" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 40 Champernonwne&#39;s Constant</span>
<span class="n">constant</span><span class="o">=</span><span class="p">[]</span>
<span class="n">n</span><span class="o">=</span><span class="mi">1</span>
<span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">constant</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">1000000</span><span class="p">:</span>
    <span class="n">d</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span>
    <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
        <span class="n">constant</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
    <span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">ans</span><span class="o">=</span><span class="n">constant</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">constant</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="n">constant</span><span class="p">[</span><span class="mi">99</span><span class="p">]</span><span class="o">*</span><span class="n">constant</span><span class="p">[</span><span class="mi">999</span><span class="p">]</span><span class="o">*</span><span class="n">constant</span><span class="p">[</span><span class="mi">9999</span><span class="p">]</span><span class="o">*</span><span class="n">constant</span><span class="p">[</span><span class="mi">99999</span><span class="p">]</span><span class="o">*</span><span class="n">constant</span><span class="p">[</span><span class="mi">999999</span><span class="p">]</span>
<span class="n">ans</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-41">
<h2><span class="section-number">14.42. </span>PE 41<a class="headerlink" href="#pe-41" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#41 Pandigital Primes</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">itertools</span>

<span class="k">def</span><span class="w"> </span><span class="nf">isPrime</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">elif</span> <span class="n">num</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">or</span> <span class="n">num</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">num</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">num</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">num</span> <span class="o">%</span> <span class="mi">6</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span><span class="p">(</span><span class="n">num</span> <span class="o">%</span> <span class="mi">6</span> <span class="o">==</span> <span class="mi">5</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">*</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">num</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">num</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">num</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">6</span>
    <span class="k">return</span> <span class="kc">True</span>

<span class="n">p</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">,</span> <span class="n">itertools</span><span class="o">.</span><span class="n">permutations</span><span class="p">(</span><span class="s1">&#39;1234567&#39;</span><span class="p">)))</span>

<span class="nb">max</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">p</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">prime</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="ow">and</span> <span class="nb">max</span> <span class="o">&lt;</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="nb">max</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">max</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-42">
<h2><span class="section-number">14.43. </span>PE 42<a class="headerlink" href="#pe-42" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#42 Coded Triangle Numbers</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://projecteuler.net/resources/documents/0042_words.txt&quot;</span><span class="p">)</span>   <span class="c1"># Send a GET request to the URL</span>
<span class="n">content</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>     <span class="c1"># Read the content of the response</span>
<span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)]</span>  <span class="c1"># Split the content by comma and remove double quotes</span>

<span class="k">def</span><span class="w"> </span><span class="nf">triangle</span><span class="p">(</span><span class="n">word</span><span class="p">):</span>
    <span class="n">value</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span><span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">:</span><span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">:</span><span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">:</span><span class="mi">17</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">:</span><span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;U&#39;</span><span class="p">:</span><span class="mi">21</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">:</span><span class="mi">22</span><span class="p">,</span> <span class="s1">&#39;W&#39;</span><span class="p">:</span><span class="mi">23</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">:</span><span class="mi">24</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">:</span><span class="mi">25</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">:</span><span class="mi">26</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
        <span class="n">value</span><span class="o">+=</span><span class="n">values</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span>
    <span class="n">seq</span><span class="o">=</span><span class="n">triangular_seq</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">seq</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
<span class="n">tri_words</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">triangle</span><span class="p">(</span><span class="n">word</span><span class="p">):</span>
        <span class="n">tri_words</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">tri_words</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-43">
<h2><span class="section-number">14.44. </span>PE 43<a class="headerlink" href="#pe-43" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 43 Sub-string Divisibility</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">itertools</span><span class="w"> </span><span class="kn">import</span> <span class="n">permutations</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test</span><span class="p">(</span><span class="n">tup</span><span class="p">):</span>
    <span class="n">num</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tup</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">num</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span><span class="o">%</span><span class="k">2</span>==0 and int(num[2:5])%3==0 and int(num[3:6])%5==0 and int(num[4:7])%7==0 and int(num[5:8])%11==0 and int(num[6:9])%13==0 and int(num[7:])%17==0
<span class="nb">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">([</span><span class="n">test</span><span class="p">(</span><span class="n">tup</span><span class="p">)</span><span class="o">*</span><span class="nb">int</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tup</span><span class="p">))</span> <span class="k">for</span> <span class="n">tup</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">permutations</span><span class="p">(</span><span class="s1">&#39;0123456789&#39;</span><span class="p">))]))</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-44">
<h2><span class="section-number">14.45. </span>PE 44<a class="headerlink" href="#pe-44" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 44 Pentagon Numbers</span>
<span class="k">def</span><span class="w"> </span><span class="nf">pentagon_num</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">n</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span>
<span class="k">def</span><span class="w"> </span><span class="nf">is_pentagonal</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">disc</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">24</span><span class="o">*</span><span class="n">x</span>
    <span class="n">sqrt_disc</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">isqrt</span><span class="p">(</span><span class="n">disc</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">sqrt_disc</span><span class="o">*</span><span class="n">sqrt_disc</span> <span class="o">==</span> <span class="n">disc</span> <span class="ow">and</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">sqrt_disc</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span> <span class="o">==</span> <span class="mi">0</span>
<span class="k">def</span><span class="w"> </span><span class="nf">pentagonal_pair</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mi">3000</span><span class="p">):</span>
    <span class="n">pentagonal</span><span class="o">=</span><span class="p">[</span><span class="n">pentagon_num</span><span class="p">(</span><span class="n">num</span><span class="p">)</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
    <span class="n">diff</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">index</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">index</span><span class="p">):</span>
            <span class="n">num</span><span class="o">=</span><span class="n">pentagonal</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">num1</span><span class="o">=</span><span class="n">pentagonal</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">is_pentagonal</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">num</span><span class="o">-</span><span class="n">num1</span><span class="p">))</span> <span class="ow">and</span> <span class="n">is_pentagonal</span><span class="p">(</span><span class="n">num</span><span class="o">+</span><span class="n">num1</span><span class="p">):</span>
                <span class="n">diff</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">diff</span><span class="p">,</span><span class="nb">abs</span><span class="p">(</span><span class="n">num</span><span class="o">-</span><span class="n">num1</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">diff</span>
<span class="n">pentagonal_pair</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-45">
<h2><span class="section-number">14.46. </span>PE 45<a class="headerlink" href="#pe-45" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="mi">45</span> <span class="n">Triangular</span><span class="p">,</span> <span class="n">Pentagonal</span><span class="p">,</span> <span class="ow">and</span> <span class="n">Hexagonal</span> 
    <span class="n">what</span> <span class="n">I</span> <span class="n">can</span> learn<span class="o">?</span>
    <span class="mi">1</span><span class="p">)</span> <span class="n">defining</span> <span class="n">series</span> 
    <span class="mi">2</span><span class="p">)</span> <span class="n">finding</span> <span class="n">common</span> <span class="n">items</span> <span class="ow">in</span> <span class="n">lists</span> <span class="n">using</span> <span class="nb">set</span> <span class="n">theory</span><span class="p">:</span> <span class="n">Intersection</span> <span class="ow">and</span> <span class="n">Union</span><span class="o">*</span><span class="p">)</span>
<span class="n">n</span><span class="o">=</span><span class="mi">99999</span><span class="p">;</span>
<span class="n">Tri</span> <span class="o">=</span> <span class="c1">#(# + 1)/2 &amp;  /@ Range[n];</span>
<span class="n">Pen</span> <span class="o">=</span> <span class="c1">#(3# - 1)/2 &amp; /@ Range[n];</span>
<span class="n">Hex</span> <span class="o">=</span> <span class="c1">#(2# - 1) &amp;   /@ Range[n];</span>
<span class="n">Intersection</span><span class="p">[</span><span class="n">Tri</span><span class="p">,</span><span class="n">Pen</span><span class="p">,</span><span class="n">Hex</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-46">
<h2><span class="section-number">14.47. </span>PE 46<a class="headerlink" href="#pe-46" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#46 Goldbach&#39;s Other Conjecture</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="n">start</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="c1"># Define a function that tests if an odd composite integer can be represented as the sum of a prime and twice a square</span>
<span class="k">def</span><span class="w"> </span><span class="nf">other_conjecture</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Assume n is an odd composite integer&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
        <span class="n">num</span><span class="o">=</span><span class="n">n</span><span class="o">-</span><span class="n">i</span>
        <span class="n">number</span><span class="o">=</span><span class="n">num</span><span class="o">/</span><span class="mi">2</span>
        <span class="n">sqrt_num</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">number</span><span class="o">**</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">prime</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">sqrt_num</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">j</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">==</span><span class="n">n</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
<span class="c1"># calculation</span>
<span class="n">n</span><span class="o">=</span><span class="mi">9</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">prime</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
        <span class="n">n</span><span class="o">+=</span><span class="mi">2</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">other_conjecture</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
            <span class="n">n</span><span class="o">+=</span><span class="mi">2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">break</span>
<span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">end</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">end</span><span class="o">-</span><span class="n">start</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-47">
<h2><span class="section-number">14.48. </span>PE 47<a class="headerlink" href="#pe-47" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="mi">47</span> <span class="n">Distinct</span> <span class="n">Primes</span> <span class="n">Factors</span><span class="o">*</span><span class="p">)</span>
<span class="n">lst</span><span class="o">=</span><span class="n">Table</span><span class="p">[</span><span class="n">FactorInteger</span><span class="p">[</span><span class="n">n</span><span class="p">],{</span><span class="n">n</span><span class="p">,</span><span class="mi">134040</span><span class="p">,</span><span class="mi">134050</span><span class="p">}];</span>
<span class="n">lst1</span><span class="o">=</span><span class="n">Length</span><span class="o">/</span><span class="nd">@lst</span><span class="p">;</span>
<span class="n">ans</span><span class="o">=</span><span class="n">Select</span><span class="p">[</span><span class="n">Range</span><span class="p">[</span><span class="n">Length</span><span class="p">[</span><span class="n">lst1</span><span class="p">]],</span><span class="n">lst1</span><span class="p">[[</span><span class="c1">#]]==4&amp;];</span>
<span class="n">ans1</span><span class="o">=</span><span class="n">Select</span><span class="p">[</span><span class="n">Range</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="n">Length</span><span class="p">[</span><span class="n">ans</span><span class="p">]],</span><span class="n">ans</span><span class="p">[[</span><span class="c1">#]]==ans[[#-3]]+3&amp;]</span>
<span class="n">ans</span>
<span class="p">(</span><span class="o">*</span> <span class="n">learn</span> <span class="mi">5</span> <span class="n">functions</span><span class="p">:</span>
    <span class="n">Table</span><span class="p">[]</span>
    <span class="n">Length</span><span class="p">[]</span>
    <span class="n">FactorInteger</span><span class="p">[]</span>
    <span class="n">Select</span><span class="p">[]</span>
    <span class="n">Range</span><span class="p">[]</span><span class="o">*</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-48">
<h2><span class="section-number">14.49. </span>PE 48<a class="headerlink" href="#pe-48" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#48 Self Powers</span>
<span class="n">n</span><span class="o">=</span><span class="mi">1</span>
<span class="n">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
    <span class="n">power</span><span class="o">=</span><span class="n">n</span><span class="o">**</span><span class="n">n</span>
    <span class="n">sum_num</span><span class="o">+=</span><span class="n">power</span>
    <span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">sum_num</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-49">
<h2><span class="section-number">14.50. </span>PE 49<a class="headerlink" href="#pe-49" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">primes</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a list of 4-digit prime numbers excluding the known sequence.&quot;&quot;&quot;</span>
    <span class="n">num</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1001</span><span class="p">,</span> <span class="mi">9998</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">prime</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
            <span class="n">num</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="c1"># Exclude the specific prime sequence</span>
    <span class="n">excluded</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1487</span><span class="p">,</span> <span class="mi">4817</span><span class="p">,</span> <span class="mi">8147</span><span class="p">}</span>
    <span class="n">num</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">num</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">excluded</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">num</span>

<span class="k">def</span><span class="w"> </span><span class="nf">permutations</span><span class="p">(</span><span class="n">lst</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find primes that have the same digit permutations.&quot;&quot;&quot;</span>
    <span class="c1"># Sort digits of each number</span>
    <span class="n">sorted_lst</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)))</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">]</span>
    
    <span class="c1"># Dictionary to store primes by their sorted digit permutation</span>
    <span class="n">perm_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">lst</span><span class="p">):</span>
        <span class="n">perm</span> <span class="o">=</span> <span class="n">sorted_lst</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">perm</span> <span class="ow">in</span> <span class="n">perm_dict</span><span class="p">:</span>
            <span class="n">perm_dict</span><span class="p">[</span><span class="n">perm</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">perm_dict</span><span class="p">[</span><span class="n">perm</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">num</span><span class="p">]</span>
    
    <span class="c1"># Return only those lists with more than one permutation</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">perm_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">}</span>

<span class="c1"># Get primes and permutations</span>
<span class="n">prime_list</span> <span class="o">=</span> <span class="n">primes</span><span class="p">()</span>
<span class="n">permutations_dict</span> <span class="o">=</span> <span class="n">permutations</span><span class="p">(</span><span class="n">prime_list</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">permutations_dict</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 49 Prime Permutations</span>
<span class="k">def</span><span class="w"> </span><span class="nf">primes</span><span class="p">():</span>
    <span class="n">num</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1001</span><span class="p">,</span><span class="mi">9998</span><span class="p">,</span><span class="mi">2</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">prime</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
            <span class="n">num</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">num</span>

<span class="k">def</span><span class="w"> </span><span class="nf">permutations</span><span class="p">(</span><span class="n">lst</span><span class="p">):</span>
    <span class="n">lst2</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
        <span class="n">lst3</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)))</span>
        <span class="n">lst3</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">lst2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lst3</span><span class="p">)</span>
    <span class="n">lst1</span><span class="o">=</span><span class="p">[</span><span class="n">lst2</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">lst4</span><span class="p">)</span> <span class="k">for</span> <span class="n">lst4</span> <span class="ow">in</span> <span class="n">lst2</span><span class="p">]</span>
    <span class="n">lst5</span><span class="o">=</span><span class="p">[</span><span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">lst1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lst1</span><span class="p">))]</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lst5</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">0</span><span class="p">)):</span>
        <span class="n">lst5</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">lst5</span>

<span class="n">lst</span><span class="o">=</span><span class="n">permutations</span><span class="p">(</span><span class="n">primes</span><span class="p">());</span><span class="n">lst</span>
<span class="n">lst1</span><span class="o">=</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">Permutations</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">))))</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">];</span><span class="n">lst1</span>
<span class="n">lst2</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lst1</span><span class="p">)):</span>
    <span class="n">lst3</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">lst1</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
        <span class="n">n</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
            <span class="n">lst3</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">lst2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lst3</span><span class="p">)</span>
<span class="n">lst2</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lst2</span><span class="p">)):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lst2</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
        <span class="n">lst2</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="nb">abs</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">lst2</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>
<span class="n">lst2</span>
<span class="n">lst3</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">lst</span> <span class="ow">in</span> <span class="n">lst2</span><span class="p">:</span>
    <span class="n">lst3</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">lst</span><span class="p">)))</span>
<span class="n">lst3</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lst2</span><span class="p">)):</span>
    <span class="n">lst2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">lst2</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lst3</span><span class="p">)):</span>
    <span class="n">lst3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">lst3</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lst2</span><span class="p">)):</span>
    <span class="k">if</span> <span class="n">lst2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">lst3</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
        <span class="nb">print</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Search this line in output for other cells&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-50">
<h2><span class="section-number">14.51. </span>PE 50<a class="headerlink" href="#pe-50" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prime</span><span class="p">(</span><span class="mi">997661</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">primes</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3877</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">prime</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
        <span class="n">primes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="nb">sum</span><span class="p">(</span><span class="n">primes</span><span class="p">)</span><span class="o">+</span><span class="mi">3877</span><span class="o">+</span><span class="mi">3881</span><span class="o">+</span><span class="mi">3889</span><span class="o">+</span><span class="mi">3907</span><span class="o">+</span><span class="mi">3911</span><span class="o">+</span><span class="mi">3917</span><span class="o">+</span><span class="mi">3919</span><span class="o">+</span><span class="mi">3923</span><span class="o">+</span><span class="mi">3929</span><span class="o">+</span><span class="mi">3931</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prime</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 50 Consecutive Prime Sum</span>
<span class="n">primes</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">3932</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">prime</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
        <span class="n">primes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="n">primes</span><span class="o">=</span><span class="n">primes</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">count</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span><span class="n">primes</span><span class="p">)</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">primes</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">prime</span><span class="p">(</span><span class="n">count</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>
        <span class="k">break</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
    <span class="n">count</span><span class="o">-=</span><span class="n">p</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-51">
<h2><span class="section-number">14.52. </span>PE 51<a class="headerlink" href="#pe-51" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 51 Prime Digit Replacements</span>
<span class="k">def</span><span class="w"> </span><span class="nf">prime_replacements</span><span class="p">(</span><span class="n">num</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span><span class="n">changed</span><span class="p">:</span><span class="nb">list</span><span class="p">):</span>
    <span class="n">lst</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)))</span>
    <span class="n">n</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">if</span> <span class="mi">0</span> <span class="ow">in</span> <span class="n">changed</span><span class="p">:</span>
        <span class="n">limits</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">limits</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">limits</span><span class="p">:</span>
        <span class="n">n</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">if</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">changed</span> <span class="k">else</span> <span class="nb">str</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lst</span><span class="p">))])))</span>
    <span class="n">n</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">prime</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">n</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">n</span>
<span class="k">def</span><span class="w"> </span><span class="nf">valid</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">s</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">%</span><span class="k">3</span>==0:
            <span class="k">return</span> <span class="n">i</span>
    <span class="k">return</span> <span class="kc">False</span>
<span class="n">lst</span><span class="o">=</span><span class="n">prime_range</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="n">lst</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">valid</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">!=</span><span class="kc">False</span><span class="p">,</span><span class="n">lst</span><span class="p">))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
    <span class="n">v</span><span class="o">=</span><span class="n">valid</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">changed</span><span class="o">=</span><span class="p">[</span><span class="n">j</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)))</span> <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)[</span><span class="n">j</span><span class="p">]</span><span class="o">==</span><span class="n">v</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">prime_replacements</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">changed</span><span class="p">))</span><span class="o">==</span><span class="mi">8</span><span class="p">:</span>
        <span class="c1"># print(prime_replacements(i,changed)) undo commenting to reveal answer</span>
        <span class="k">break</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-52">
<h2><span class="section-number">14.53. </span>PE 52<a class="headerlink" href="#pe-52" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#52 Permuted Multiples</span>
<span class="k">def</span><span class="w"> </span><span class="nf">permuted</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">listnum</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span>
    <span class="n">listnum1</span><span class="o">=</span><span class="n">listnum</span><span class="p">[:]</span>
    <span class="n">listnum1</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
    <span class="n">m</span><span class="o">=</span><span class="mi">1</span>
    <span class="n">old</span><span class="o">=</span><span class="n">list_to_int</span><span class="p">(</span><span class="n">listnum</span><span class="p">)</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">n</span><span class="o">=</span><span class="n">old</span><span class="o">*</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">test</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span>
        <span class="n">test</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">test</span><span class="o">!=</span><span class="n">listnum1</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">m</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">m</span>
<span class="k">def</span><span class="w"> </span><span class="nf">solve</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
    <span class="n">n</span><span class="o">=</span><span class="mi">1000</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">num</span><span class="o">=</span><span class="n">permuted</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">num</span><span class="o">&gt;=</span><span class="n">m</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">n</span>
<span class="nb">print</span><span class="p">(</span><span class="n">solve</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-53">
<h2><span class="section-number">14.54. </span>PE 53<a class="headerlink" href="#pe-53" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 53 Combinatoric Selections</span>
<span class="k">def</span><span class="w"> </span><span class="nf">ncr</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">factorial</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">r</span><span class="p">))</span>

<span class="n">over_million</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span><span class="mi">101</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">ncr</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">r</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1000000</span><span class="p">:</span>
            <span class="n">over_million</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">over_million</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-54">
<h2><span class="section-number">14.55. </span>PE 54<a class="headerlink" href="#pe-54" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://projecteuler.net/resources/documents/0054_poker.txt&quot;</span><span class="p">)</span>   <span class="c1"># request.get the URL</span>
<span class="n">content</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>     <span class="c1"># Read the content of the response</span>
<span class="n">hands</span><span class="o">=</span><span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">hands</span><span class="o">=</span><span class="p">[</span><span class="n">hand</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="k">for</span> <span class="n">hand</span> <span class="ow">in</span> <span class="n">hands</span><span class="p">]</span>
<span class="n">hands</span><span class="o">=</span><span class="n">hands</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">hands</span>
<span class="c1"># This had to be changed and debugged</span>
<span class="c1"># Updated Function below</span>
<span class="n">stt</span><span class="o">=</span><span class="p">[[</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">],</span>
 <span class="p">[</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;7&#39;</span><span class="p">],</span>
 <span class="p">[</span><span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;7&#39;</span><span class="p">,</span> <span class="s1">&#39;8&#39;</span><span class="p">],</span>
 <span class="p">[</span><span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;7&#39;</span><span class="p">,</span> <span class="s1">&#39;8&#39;</span><span class="p">,</span> <span class="s1">&#39;9&#39;</span><span class="p">],</span>
 <span class="p">[</span><span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;7&#39;</span><span class="p">,</span> <span class="s1">&#39;8&#39;</span><span class="p">,</span> <span class="s1">&#39;9&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">],</span>
 <span class="p">[</span><span class="s1">&#39;7&#39;</span><span class="p">,</span> <span class="s1">&#39;8&#39;</span><span class="p">,</span> <span class="s1">&#39;9&#39;</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">],</span>
 <span class="p">[</span><span class="s1">&#39;8&#39;</span><span class="p">,</span> <span class="s1">&#39;9&#39;</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">],</span>
 <span class="p">[</span><span class="s1">&#39;9&#39;</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">],</span>
 <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">]]</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test</span><span class="p">(</span><span class="n">lst</span><span class="p">:</span><span class="nb">list</span><span class="p">):</span>
    <span class="n">hand1</span><span class="o">=</span><span class="n">lst</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
    <span class="n">hand2</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">5</span><span class="p">:]</span>
    <span class="n">hand1</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
    <span class="n">hand2</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
    <span class="n">flush1</span><span class="o">=</span><span class="n">hand1</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">hand1</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">hand1</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">hand1</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">hand1</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">flush2</span><span class="o">=</span><span class="n">hand2</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">hand2</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">hand2</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">hand2</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">hand2</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">value1</span><span class="o">=</span><span class="p">[</span><span class="n">hand1</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
    <span class="n">value2</span><span class="o">=</span><span class="p">[</span><span class="n">hand2</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
    <span class="n">four1</span><span class="o">=</span><span class="n">value1</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">value1</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">&gt;=</span><span class="mi">4</span>
    <span class="n">four2</span><span class="o">=</span><span class="n">value2</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">value2</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">&gt;=</span><span class="mi">4</span>
    <span class="n">three1</span><span class="o">=</span><span class="n">value1</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">value1</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">==</span><span class="mi">3</span>
    <span class="n">three2</span><span class="o">=</span><span class="n">value2</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">value2</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">==</span><span class="mi">3</span>
    <span class="n">two1</span><span class="o">=</span><span class="n">value1</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">value1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">==</span><span class="mi">2</span> <span class="ow">or</span> <span class="n">value1</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">value1</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">==</span><span class="mi">2</span>
    <span class="n">two2</span><span class="o">=</span><span class="n">value2</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">value2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">==</span><span class="mi">2</span> <span class="ow">or</span> <span class="n">value2</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">value2</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">==</span><span class="mi">2</span>
    <span class="n">fh1</span><span class="o">=</span><span class="n">three1</span> <span class="ow">and</span> <span class="n">two1</span>
    <span class="n">fh2</span><span class="o">=</span><span class="n">three2</span> <span class="ow">and</span> <span class="n">two2</span>
    <span class="n">stt1</span><span class="o">=</span><span class="n">value1</span> <span class="ow">in</span> <span class="n">stt</span>
    <span class="n">stt2</span><span class="o">=</span><span class="n">value2</span> <span class="ow">in</span> <span class="n">stt</span>
    <span class="n">fs1</span><span class="o">=</span><span class="n">flush1</span> <span class="ow">and</span> <span class="n">stt1</span>
    <span class="n">fs2</span><span class="o">=</span><span class="n">flush2</span> <span class="ow">and</span> <span class="n">stt2</span>
    <span class="k">if</span> <span class="n">fs1</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">fs2</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">fs2</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">fs1</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">fs1</span> <span class="ow">and</span> <span class="n">fs2</span><span class="p">:</span>
        <span class="n">rank1</span><span class="o">=</span><span class="n">stt</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">value1</span><span class="p">)</span>
        <span class="n">rank2</span><span class="o">=</span><span class="n">stt</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">value2</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">rank1</span><span class="o">&gt;</span><span class="n">rank2</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">four1</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">four2</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">four2</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">four1</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">four1</span> <span class="ow">and</span> <span class="n">four2</span><span class="p">:</span>
        <span class="n">rank1</span><span class="o">=</span><span class="n">value1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">rank2</span><span class="o">=</span><span class="n">value2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">rank1</span><span class="o">&gt;</span><span class="n">rank2</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">rank1</span><span class="o">&lt;</span><span class="n">rank2</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">value1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="n">value1</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
            <span class="n">s1</span><span class="o">=</span><span class="n">value1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">s1</span><span class="o">=</span><span class="n">value1</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">value2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="n">value2</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
            <span class="n">s2</span><span class="o">=</span><span class="n">value2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">s2</span><span class="o">=</span><span class="n">value2</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">s1</span><span class="o">&gt;</span><span class="n">s2</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">fh1</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">fh2</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">fh2</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">fh1</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">fh1</span> <span class="ow">and</span> <span class="n">fh2</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">value1</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">value2</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">hand1</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">hand2</span><span class="p">)</span>
<span class="k">for</span> <span class="n">hand</span> <span class="ow">in</span> <span class="n">hands</span><span class="p">:</span>
    <span class="n">test</span><span class="p">(</span><span class="n">hand</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Updated Function</span>
<span class="n">RANKS</span><span class="o">=</span><span class="p">{</span><span class="o">**</span><span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">):</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">)},</span><span class="s1">&#39;T&#39;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="s1">&#39;J&#39;</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span><span class="s1">&#39;Q&#39;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="s1">&#39;K&#39;</span><span class="p">:</span><span class="mi">13</span><span class="p">,</span><span class="s1">&#39;A&#39;</span><span class="p">:</span><span class="mi">14</span><span class="p">}</span>
<span class="k">def</span><span class="w"> </span><span class="nf">hand_rank</span><span class="p">(</span><span class="n">hand</span><span class="p">:</span><span class="nb">list</span><span class="p">):</span>
    <span class="n">ranks</span><span class="o">=</span><span class="p">[</span><span class="n">RANKS</span><span class="p">[</span><span class="n">card</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="n">hand</span><span class="p">]</span>
    <span class="n">suits</span><span class="o">=</span><span class="p">[</span><span class="n">card</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="n">hand</span><span class="p">]</span>
    <span class="n">ranks</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
    <span class="n">counter</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="n">ranks</span><span class="p">))</span>
    <span class="n">flush</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">suits</span><span class="p">))</span><span class="o">==</span><span class="mi">1</span>
    <span class="n">stt</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="n">ranks</span><span class="p">)</span><span class="o">-</span><span class="nb">min</span><span class="p">(</span><span class="n">ranks</span><span class="p">)</span><span class="o">==</span><span class="mi">4</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">ranks</span><span class="p">))</span><span class="o">==</span><span class="mi">5</span>
    <span class="n">four</span><span class="o">=</span><span class="n">counter</span><span class="p">[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">==</span><span class="mi">4</span>
    <span class="n">three</span><span class="o">=</span><span class="n">counter</span><span class="p">[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">==</span><span class="mi">3</span>
    <span class="n">two</span><span class="o">=</span><span class="n">counter</span><span class="p">[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">==</span><span class="mi">2</span> <span class="ow">or</span> <span class="n">counter</span><span class="p">[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span><span class="o">==</span><span class="mi">2</span>
    <span class="n">full_house</span><span class="o">=</span><span class="n">three</span> <span class="ow">and</span> <span class="n">two</span>
    <span class="n">two_pairs</span><span class="o">=</span><span class="n">counter</span><span class="p">[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">==</span><span class="mi">2</span> <span class="ow">and</span> <span class="n">counter</span><span class="p">[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span><span class="o">==</span><span class="mi">2</span>
    <span class="k">if</span> <span class="n">flush</span> <span class="ow">and</span> <span class="n">stt</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="mi">8</span><span class="p">,[</span><span class="nb">max</span><span class="p">(</span><span class="n">ranks</span><span class="p">)])</span>
    <span class="k">if</span> <span class="n">four</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="mi">7</span><span class="p">,[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
    <span class="k">if</span> <span class="n">full_house</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="mi">6</span><span class="p">,[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
    <span class="k">if</span> <span class="n">flush</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="n">ranks</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">stt</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="mi">4</span><span class="p">,[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
    <span class="k">if</span> <span class="n">three</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="mi">3</span><span class="p">,[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
    <span class="k">if</span> <span class="n">two_pairs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">counter</span><span class="p">[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">kicker</span><span class="o">=</span><span class="mi">0</span>
        <span class="k">elif</span> <span class="n">counter</span><span class="p">[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">kicker</span><span class="o">=</span><span class="mi">2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">kicker</span><span class="o">=</span><span class="mi">4</span>
        <span class="k">return</span> <span class="p">(</span><span class="mi">2</span><span class="p">,[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="n">ranks</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">ranks</span><span class="p">[</span><span class="n">kicker</span><span class="p">]])</span>
    <span class="k">if</span> <span class="n">two</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">counter</span><span class="p">[</span><span class="n">ranks</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">==</span><span class="mi">2</span><span class="p">:</span>
            <span class="n">pos</span><span class="o">=</span><span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">pos</span><span class="o">=</span><span class="mi">3</span>
        <span class="n">singles</span><span class="o">=</span><span class="p">[(</span><span class="n">counter</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">ranks</span><span class="p">]</span>
        <span class="n">singles</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
            <span class="n">singles</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="mi">1</span><span class="p">,[</span><span class="n">ranks</span><span class="p">[</span><span class="n">pos</span><span class="p">]]</span><span class="o">+</span><span class="n">singles</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># determine pair position</span>
    <span class="k">return</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">ranks</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test</span><span class="p">(</span><span class="n">hands</span><span class="p">:</span><span class="nb">list</span><span class="p">):</span>
    <span class="n">hand1</span><span class="o">=</span><span class="n">hands</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
    <span class="n">hand2</span><span class="o">=</span><span class="n">hands</span><span class="p">[</span><span class="mi">5</span><span class="p">:]</span>
    <span class="k">if</span> <span class="n">hand_rank</span><span class="p">(</span><span class="n">hand1</span><span class="p">)</span><span class="o">&gt;</span><span class="n">hand_rank</span><span class="p">(</span><span class="n">hand2</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="mi">0</span>
<span class="n">results</span><span class="o">=</span><span class="p">[</span><span class="n">test</span><span class="p">(</span><span class="n">hand</span><span class="p">)</span> <span class="k">for</span> <span class="n">hand</span> <span class="ow">in</span> <span class="n">hands</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-55">
<h2><span class="section-number">14.56. </span>PE 55<a class="headerlink" href="#pe-55" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#55 Lychrel Numbers</span>
<span class="n">MAX_ITERATIONS</span> <span class="o">=</span> <span class="mi">50</span>
<span class="k">def</span><span class="w"> </span><span class="nf">isPalindrome</span><span class="p">(</span><span class="n">number</span><span class="p">):</span> 
	<span class="k">return</span> <span class="n">number</span> <span class="o">==</span> <span class="n">reverse</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">reverse</span><span class="p">(</span><span class="n">number</span><span class="p">):</span> 
	<span class="n">reverse</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> 
	<span class="k">while</span> <span class="p">(</span><span class="n">number</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span> 
		<span class="n">remainder</span> <span class="o">=</span> <span class="n">number</span> <span class="o">%</span> <span class="mi">10</span>
		<span class="n">reverse</span> <span class="o">=</span> <span class="p">(</span><span class="n">reverse</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="n">remainder</span>
		<span class="n">number</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">number</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">reverse</span>
<span class="k">def</span><span class="w"> </span><span class="nf">isLychrel</span><span class="p">(</span><span class="n">number</span><span class="p">):</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">MAX_ITERATIONS</span><span class="p">):</span> 
		<span class="n">number</span><span class="o">+=</span><span class="n">reverse</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">isPalindrome</span><span class="p">(</span><span class="n">number</span><span class="p">)):</span> 
			<span class="k">return</span> <span class="kc">False</span>
	<span class="k">return</span> <span class="kc">True</span>
<span class="n">num_lyc</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10000</span><span class="p">):</span>
	<span class="k">if</span> <span class="n">isLychrel</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
		<span class="n">num_lyc</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">num_lyc</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-56">
<h2><span class="section-number">14.57. </span>PE 56<a class="headerlink" href="#pe-56" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#56 Powerful Digit Sum</span>
<span class="n">sum_num</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">):</span>
        <span class="n">current_sum</span><span class="o">=</span><span class="mi">0</span>
        <span class="n">power</span><span class="o">=</span><span class="n">i</span><span class="o">**</span><span class="n">j</span>
        <span class="n">list_power</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">power</span><span class="p">)))</span>
        <span class="k">for</span> <span class="n">digit</span> <span class="ow">in</span> <span class="n">list_power</span><span class="p">:</span>
            <span class="n">current_sum</span><span class="o">+=</span><span class="n">digit</span>
        <span class="k">if</span> <span class="n">current_sum</span><span class="o">&gt;</span><span class="n">sum_num</span><span class="p">:</span>
            <span class="n">sum_num</span><span class="o">=</span><span class="n">current_sum</span>
<span class="n">sum_num</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-57">
<h2><span class="section-number">14.58. </span>PE 57<a class="headerlink" href="#pe-57" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 57 Square Root Convergents</span>
<span class="k">def</span><span class="w"> </span><span class="nf">convergent_square_root2</span><span class="p">(</span><span class="n">term</span><span class="p">):</span>
    <span class="n">numerator</span><span class="o">=</span><span class="mi">3</span>
    <span class="n">denominator</span><span class="o">=</span><span class="mi">2</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">term</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">denominator1</span><span class="o">=</span><span class="n">numerator</span><span class="o">+</span><span class="n">denominator</span>
        <span class="n">numerator</span><span class="o">=</span><span class="n">denominator</span><span class="o">+</span><span class="n">denominator1</span>
        <span class="n">denominator</span><span class="o">=</span><span class="n">denominator1</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">numerator</span><span class="p">,</span><span class="n">denominator</span><span class="p">]</span>

<span class="k">def</span><span class="w"> </span><span class="nf">solve</span><span class="p">():</span>
    <span class="n">ans</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1001</span><span class="p">):</span>
        <span class="n">fraction</span><span class="o">=</span><span class="n">convergent_square_root2</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">n</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">fraction</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
        <span class="n">d</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">fraction</span><span class="p">[</span><span class="mi">1</span><span class="p">])))</span> <span class="c1">#separates number&#39;s digits into list</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">&gt;</span><span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
            <span class="n">ans</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">ans</span>

<span class="n">solve</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-58">
<h2><span class="section-number">14.59. </span>PE 58<a class="headerlink" href="#pe-58" title="Link to this heading">#</a></h2>
<p>The corner_num function:</p>
<ol class="arabic simple">
<li><p>Number 1 is the centre of the square.</p></li>
<li><p>Create a list containing the number 1.</p></li>
<li><p>Iterate for the number of times you need to add a number to the list</p>
<ul class="simple">
<li><p>Add the next number</p></li>
<li><p>Change n to the last number of the list</p></li>
</ul>
</li>
<li><p>Return the list</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 58 Spiral Primes</span>
<span class="sd">&#39;&#39;&#39; 37 36 35 34 33 32 31</span>
<span class="sd">    38 17 16 15 14 13 30</span>
<span class="sd">    39 18  5  4  3 12 29</span>
<span class="sd">    40 19  6  1  2 11 28</span>
<span class="sd">    41 20  7  8  9 10 27</span>
<span class="sd">    42 21 22 23 24 25 26</span>
<span class="sd">    43 44 45 46 47 48 49</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="k">def</span><span class="w"> </span><span class="nf">corner_num</span><span class="p">(</span><span class="n">side_length</span><span class="p">):</span>
    <span class="n">lst</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">n</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="n">side_length</span><span class="o">*</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">):</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="n">i</span><span class="o">//</span><span class="mi">4</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">n</span><span class="o">+=</span><span class="n">i</span><span class="o">//</span><span class="mi">4</span><span class="o">*</span><span class="mi">2</span>
    <span class="k">return</span> <span class="n">lst</span>
<span class="k">def</span><span class="w"> </span><span class="nf">prime_percentage</span><span class="p">(</span><span class="n">lst</span><span class="p">):</span>
    <span class="n">p</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">is_prime</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">lst</span><span class="p">))</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">26200</span><span class="p">,</span><span class="mi">26300</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">prime_percentage</span><span class="p">(</span><span class="n">corner_num</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="o">&lt;=</span><span class="mi">10</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">break</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-59">
<h2><span class="section-number">14.60. </span>PE 59<a class="headerlink" href="#pe-59" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 59 XOR Decryption</span>
<span class="c1"># python instead of sage was used to use the xor function(a^b means a xor b in python)</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://projecteuler.net/resources/documents/0059_cipher.txt&quot;</span><span class="p">)</span>   <span class="c1"># Send a GET request to the URL</span>
<span class="n">content</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>     <span class="c1"># Read the content of the response</span>
<span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="n">ascii_num</span><span class="o">=</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">content</span><span class="p">]</span>
<span class="k">def</span><span class="w"> </span><span class="nf">xor_decrypt</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span><span class="n">cipher</span><span class="p">):</span>
    <span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">txt</span><span class="p">)):</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="n">txt</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">^</span><span class="n">cipher</span><span class="p">[</span><span class="n">i</span><span class="o">%</span><span class="k">3</span>]))
    <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">97</span><span class="p">,</span><span class="mi">123</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">97</span><span class="p">,</span><span class="mi">123</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">97</span><span class="p">,</span><span class="mi">123</span><span class="p">):</span>
            <span class="n">plain</span> <span class="o">=</span> <span class="n">xor_decrypt</span><span class="p">(</span><span class="n">ascii_num</span><span class="p">,</span> <span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">])</span>
            <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="mi">32</span> <span class="o">&lt;=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">126</span> <span class="ow">or</span> <span class="n">ch</span> <span class="ow">in</span> <span class="s2">&quot;</span><span class="se">\n\r\t</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">plain</span><span class="p">[:</span><span class="mi">200</span><span class="p">]):</span>
                <span class="nb">print</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="nb">chr</span><span class="p">(</span><span class="n">j</span><span class="p">),</span> <span class="nb">chr</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="s2">&quot;=&gt;&quot;</span><span class="p">,</span> <span class="n">plain</span><span class="p">[:</span><span class="mi">80</span><span class="p">])</span>
                <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">plain</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39; the &#39;</span><span class="p">))</span><span class="o">+</span><span class="s1">&#39;11111&#39;</span><span class="p">)</span> <span class="c1"># search for 3211111 in output</span>
<span class="nb">sum</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">char</span><span class="p">)</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">xor_decrypt</span><span class="p">(</span><span class="n">ascii_num</span><span class="p">,[</span><span class="mi">101</span><span class="p">,</span><span class="mi">120</span><span class="p">,</span><span class="mi">112</span><span class="p">])))</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-61">
<h2><span class="section-number">14.61. </span>PE 61<a class="headerlink" href="#pe-61" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">cyclical</span><span class="p">(</span><span class="n">chain</span><span class="p">,</span><span class="n">unused</span><span class="p">):</span>
    <span class="n">t</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">unused</span><span class="p">)</span>
    <span class="n">lst</span><span class="o">=</span><span class="n">chain</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">unused</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">figurate</span><span class="p">[</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]]:</span>
            <span class="k">if</span> <span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">n</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">chain</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">n</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">chain</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">t</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">figurate</span><span class="p">[</span><span class="n">s</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">cyclical</span><span class="p">(</span><span class="n">chain</span><span class="o">+</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">unused</span><span class="o">-</span><span class="p">{</span><span class="n">s</span><span class="p">}):</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">chain</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 61 Cyclical Figurate Numbers</span>
<span class="n">triangle</span><span class="o">=</span><span class="p">[</span><span class="n">n</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span><span class="mi">141</span><span class="p">)]</span>
<span class="n">square</span><span class="o">=</span><span class="p">[</span><span class="n">n</span><span class="o">^</span><span class="mi">2</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span><span class="mi">100</span><span class="p">)]</span>
<span class="n">pentagonal</span><span class="o">=</span><span class="p">[</span><span class="n">n</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">26</span><span class="p">,</span><span class="mi">82</span><span class="p">)]</span>
<span class="n">hexagonal</span><span class="o">=</span><span class="p">[</span><span class="n">n</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span><span class="mi">71</span><span class="p">)]</span>
<span class="n">heptagonal</span><span class="o">=</span><span class="p">[</span><span class="n">n</span><span class="o">*</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="n">n</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">21</span><span class="p">,</span><span class="mi">64</span><span class="p">)]</span>
<span class="n">octagonal</span><span class="o">=</span><span class="p">[</span><span class="n">n</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">19</span><span class="p">,</span><span class="mi">59</span><span class="p">)]</span>
<span class="n">figurate</span><span class="o">=</span><span class="p">[</span><span class="n">triangle</span><span class="p">,</span><span class="n">square</span><span class="p">,</span><span class="n">pentagonal</span><span class="p">,</span><span class="n">hexagonal</span><span class="p">,</span><span class="n">heptagonal</span><span class="p">,</span><span class="n">octagonal</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">figurate</span><span class="p">)):</span>
    <span class="n">figurate</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:[</span><span class="nb">int</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="mi">1</span><span class="p">]])),</span><span class="nb">int</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="mi">2</span><span class="p">],</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="mi">3</span><span class="p">]]))],</span><span class="n">figurate</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
    <span class="n">figurate</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&gt;=</span><span class="mi">10</span><span class="p">,</span><span class="n">figurate</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
<span class="n">triangle</span><span class="o">=</span><span class="n">figurate</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">square</span><span class="o">=</span><span class="n">figurate</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">pentagonal</span><span class="o">=</span><span class="n">figurate</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="n">hexagonal</span><span class="o">=</span><span class="n">figurate</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="n">heptagonal</span><span class="o">=</span><span class="n">figurate</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="n">octagonal</span><span class="o">=</span><span class="n">figurate</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">octagonal</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">cyclical</span><span class="p">([</span><span class="n">n</span><span class="p">],{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">}):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="k">break</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-62">
<h2><span class="section-number">14.62. </span>PE 62<a class="headerlink" href="#pe-62" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#62 </span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">cubes</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">cube</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">**</span><span class="mi">3</span><span class="p">)))</span>
    <span class="n">cubes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cube</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cubes</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">cube</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">((</span><span class="n">cubes</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">cube</span><span class="p">))</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span>
        <span class="k">break</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-63">
<h2><span class="section-number">14.63. </span>PE 63<a class="headerlink" href="#pe-63" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 63 Powerful Digit Counts</span>
<span class="n">num</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">22</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">length</span><span class="p">(</span><span class="n">i</span><span class="o">**</span><span class="n">j</span><span class="p">)</span><span class="o">==</span><span class="n">j</span><span class="p">:</span>
            <span class="n">num</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">num</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-64">
<h2><span class="section-number">14.64. </span>PE 64<a class="headerlink" href="#pe-64" title="Link to this heading">#</a></h2>
<p>The period function uses the continued_fraction function in sage and a recurrence function. The continued_fraction function generates the values for the sequence where you have to check for repeating numbers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 64 Odd Period Square Roots</span>
<span class="k">def</span><span class="w"> </span><span class="nf">period</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">):</span>
    <span class="n">fr</span><span class="o">=</span><span class="n">continued_fraction</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
    <span class="n">a0</span><span class="o">=</span><span class="n">fr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">fr</span><span class="o">=</span><span class="n">fr</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
    <span class="n">a</span><span class="o">=</span><span class="n">a0</span>
    <span class="n">m</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">d</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">limit</span><span class="p">):</span>
        <span class="n">m</span><span class="o">=</span><span class="n">d</span><span class="o">*</span><span class="n">a</span><span class="o">-</span><span class="n">m</span>
        <span class="n">d</span><span class="o">=</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">m</span><span class="o">*</span><span class="n">m</span><span class="p">)</span><span class="o">//</span><span class="n">d</span>
        <span class="n">a</span><span class="o">=</span><span class="p">(</span><span class="n">a0</span><span class="o">+</span><span class="n">m</span><span class="p">)</span><span class="o">//</span><span class="n">d</span>
        <span class="k">if</span> <span class="n">a</span><span class="o">==</span><span class="mi">2</span><span class="o">*</span><span class="n">a0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">i</span>

<span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10000</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">is_square</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="ow">and</span> <span class="n">is_odd</span><span class="p">(</span><span class="n">period</span><span class="p">(</span><span class="n">i</span><span class="p">)):</span>
        <span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">count</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-65">
<h2><span class="section-number">14.65. </span>PE 65<a class="headerlink" href="#pe-65" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#65 Convergents of e</span>
<span class="k">def</span><span class="w"> </span><span class="nf">solve</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
    <span class="n">n</span><span class="o">=</span><span class="mi">2</span>
    <span class="n">prev_n</span><span class="o">=</span><span class="mi">1</span>
    <span class="n">fract</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">N</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">temp</span><span class="o">=</span><span class="n">prev_n</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">k</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="n">fract</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="nb">int</span><span class="p">(</span><span class="n">k</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">fract</span><span class="o">=</span><span class="mi">1</span>
        <span class="n">prev_n</span><span class="o">=</span><span class="n">n</span>
        <span class="n">n</span><span class="o">=</span><span class="n">fract</span> <span class="o">*</span> <span class="n">prev_n</span> <span class="o">+</span> <span class="n">temp</span>
    <span class="nb">sum</span> <span class="o">=</span> <span class="n">digit_sum</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">sum</span>
<span class="k">def</span><span class="w"> </span><span class="nf">digit_sum</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">num</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">sum</span> <span class="o">=</span> <span class="nb">sum</span> <span class="o">+</span> <span class="p">(</span><span class="n">num</span> <span class="o">%</span> <span class="mi">10</span><span class="p">)</span>
        <span class="n">num</span> <span class="o">=</span> <span class="n">num</span> <span class="o">//</span> <span class="mi">10</span>
    <span class="k">return</span> <span class="nb">sum</span>
<span class="c1">#cal</span>
<span class="n">solve</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="mi">65</span> <span class="n">Convergents</span> <span class="n">of</span> <span class="n">e</span> <span class="o">*</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-66">
<h2><span class="section-number">14.66. </span>PE 66<a class="headerlink" href="#pe-66" title="Link to this heading">#</a></h2>
<p>see <a class="reference external" href="https://en.wikipedia.org/wiki/Pell%27s_equation">https://en.wikipedia.org/wiki/Pell’s_equation</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#66 Diophantine Equation</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">num</span><span class="p">):</span>
    <span class="k">if</span> <span class="s1">&#39;/&#39;</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
        <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
        <span class="n">s1</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">s2</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">s1</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="n">s2</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">if</span> <span class="n">s1</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="n">s2</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">num</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s1</span>
<span class="n">l</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1001</span><span class="p">):</span>
    <span class="n">cf</span><span class="o">=</span><span class="n">continued_fraction</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="n">lst</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="n">continued_fraction</span><span class="p">(</span><span class="n">cf</span><span class="p">[:</span><span class="mi">130</span><span class="p">])</span><span class="o">.</span><span class="n">convergents</span><span class="p">()))</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">test</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="n">i</span><span class="p">):</span>
            <span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">test</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="n">i</span><span class="p">),</span><span class="n">i</span><span class="p">))</span>
            <span class="k">break</span>
<span class="nb">max</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-69">
<h2><span class="section-number">14.67. </span>PE 69<a class="headerlink" href="#pe-69" title="Link to this heading">#</a></h2>
<p>Euler’s Totient Function (or just Euler <span class="math notranslate nohighlight">\(\phi\)</span> function) has a general formulas as below, <span class="math notranslate nohighlight">\(p_i\)</span> is all of the coprime of x, where x is a positive integer.</p>
<div class="math notranslate nohighlight">
\[\phi(x)=x\prod_{i=1}^n(1-\frac{1}{p_i})\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#69 Totient Maximum</span>
<span class="k">def</span><span class="w"> </span><span class="nf">factors</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">intnum</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>
    <span class="n">num</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">intnum</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n</span><span class="o">%</span><span class="k">i</span>==0:
            <span class="n">num</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">num</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">n</span><span class="o">/</span><span class="n">number</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">num</span><span class="p">:</span>
            <span class="n">num</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="o">/</span><span class="n">number</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">num</span>
<span class="k">def</span><span class="w"> </span><span class="nf">prime1</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">factors</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="o">==</span><span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
<span class="k">def</span><span class="w"> </span><span class="nf">smaller</span><span class="p">(</span><span class="n">mt</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">m</span><span class="o">&lt;</span><span class="n">n</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">m</span>
    <span class="k">elif</span> <span class="n">m</span><span class="o">&gt;</span><span class="n">n</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">n</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;same&#39;</span>
<span class="k">def</span><span class="w"> </span><span class="nf">bcf</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="n">fac</span><span class="o">=</span><span class="n">factors</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
    <span class="n">fac1</span><span class="o">=</span><span class="n">factors</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">facs</span><span class="o">=</span><span class="n">fac</span><span class="o">+</span><span class="n">fac1</span>
    <span class="n">facs</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
    <span class="n">facs</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">factor</span> <span class="ow">in</span> <span class="n">facs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">factor</span> <span class="ow">in</span> <span class="n">fac</span> <span class="ow">and</span> <span class="n">factor</span> <span class="ow">in</span> <span class="n">fac1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">factor</span>
<span class="k">def</span><span class="w"> </span><span class="nf">coprime</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">m</span><span class="o">==</span><span class="mi">1</span> <span class="ow">or</span> <span class="n">n</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="n">prime</span><span class="p">(</span><span class="n">m</span><span class="p">)</span><span class="o">==</span><span class="kc">True</span> <span class="ow">or</span> <span class="n">prime</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">bcf</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
<span class="k">def</span><span class="w"> </span><span class="nf">phi</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">num</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">coprime</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
            <span class="n">num</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">num</span>
<span class="k">def</span><span class="w"> </span><span class="nf">totient</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">big</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="n">num</span><span class="o">=</span><span class="n">i</span><span class="o">/</span><span class="n">phi</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">num</span><span class="o">&gt;</span><span class="n">big</span><span class="p">:</span>
            <span class="n">big</span><span class="o">=</span><span class="n">num</span>
    <span class="k">return</span> <span class="n">big</span>
<span class="n">totient</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#69 FP way - Euler&#39;s Totient Function (or just Euler Function)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sympy</span><span class="w"> </span><span class="kn">import</span> <span class="n">totient</span>  <span class="c1"># use  euler_phi(n) in Sage</span>

<span class="n">seq</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span> <span class="o">/</span> <span class="n">euler_phi</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">)]</span> <span class="c1"># Generate the sequence using the totient function</span>
<span class="n">max_value</span>    <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">seq</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">max_value</span><span class="p">))</span>
<span class="n">max_position</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span> <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="n">max_value</span><span class="p">]</span>
<span class="n">max_position</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="mi">69</span> <span class="n">Totient</span> <span class="n">Maximum</span><span class="p">,</span> <span class="n">also</span> <span class="n">called</span> \<span class="n">phi</span> <span class="n">function</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span> <span class="n">seq</span> <span class="o">=</span> <span class="n">Table</span><span class="p">[</span> <span class="n">n</span><span class="o">/</span><span class="n">Length</span><span class="p">[</span><span class="n">Select</span><span class="p">[</span><span class="n">Range</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">CoprimeQ</span><span class="p">[</span><span class="c1">#, n] == True &amp;]]</span>
             <span class="p">,</span> <span class="p">{</span><span class="n">n</span><span class="p">,</span> <span class="mi">10</span><span class="p">}]</span> <span class="p">;</span>   <span class="n">pretty</span> <span class="n">slow</span>  <span class="o">*</span><span class="p">)</span>
<span class="n">seq</span> <span class="o">=</span> <span class="n">Table</span><span class="p">[</span> <span class="n">n</span><span class="o">/</span><span class="n">EulerPhi</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="p">,</span> <span class="p">{</span><span class="n">n</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">}</span> <span class="p">];</span>
<span class="n">Position</span><span class="p">[</span><span class="n">seq</span><span class="p">,</span> <span class="n">Max</span><span class="p">[</span><span class="n">seq</span><span class="p">]]</span>
<span class="n">Max</span><span class="p">[</span><span class="n">seq</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-70">
<h2><span class="section-number">14.68. </span>PE 70<a class="headerlink" href="#pe-70" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 70 Totient Permutation</span>
<span class="n">lst</span><span class="o">=</span><span class="p">[</span><span class="n">euler_phi</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="o">^</span><span class="mi">7</span><span class="p">)]</span>
<span class="k">def</span><span class="w"> </span><span class="nf">is_perm</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">a</span><span class="p">)))</span><span class="o">==</span><span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">b</span><span class="p">)))</span>
<span class="n">new_lst</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">is_perm</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="n">x</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span><span class="n">x</span><span class="p">),</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="o">^</span><span class="mi">7</span><span class="p">)))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8319800</span><span class="p">,</span><span class="mi">8319900</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">is_perm</span><span class="p">(</span><span class="n">euler_phi</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="n">i</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">break</span>
<span class="n">n</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">new_lst</span><span class="p">,</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="o">/</span><span class="n">euler_phi</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="c1"># n uncomment to show answer</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-71">
<h2><span class="section-number">14.69. </span>PE 71<a class="headerlink" href="#pe-71" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#71 Ordered Fractions </span>
<span class="n">target</span> <span class="o">=</span> <span class="mi">3</span><span class="o">/</span><span class="mi">7</span>

<span class="n">pairs</span> <span class="o">=</span> <span class="p">[(</span> <span class="n">floor</span><span class="p">(</span><span class="n">deno</span><span class="o">*</span><span class="n">target</span><span class="p">)</span> <span class="p">,</span> <span class="n">deno</span> <span class="p">)</span> <span class="k">for</span> <span class="n">deno</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">)]</span>

<span class="n">fracs</span> <span class="o">=</span> <span class="p">[(</span> <span class="n">n</span><span class="p">,</span> <span class="n">deno</span> <span class="p">)</span> <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">deno</span> <span class="ow">in</span> <span class="n">pairs</span> <span class="k">if</span> <span class="p">(</span><span class="n">n</span><span class="o">/</span><span class="n">deno</span><span class="p">)</span><span class="o">&lt;</span><span class="n">target</span><span class="p">]</span>  <span class="c1"># Filter fractions &lt; target</span>

<span class="n">maxFrac</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">fracs</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">frac</span><span class="p">:</span> <span class="n">frac</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">frac</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span> <span class="p">;</span> <span class="n">maxFrac</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="mi">71</span> <span class="n">Ordered</span> <span class="n">Fractions</span> 
    <span class="n">Table</span><span class="p">[]</span> <span class="n">gen</span> <span class="p">[{</span><span class="n">numerator</span><span class="p">},</span> <span class="p">{</span><span class="n">denominator</span><span class="p">}]</span>
    <span class="n">Floor</span><span class="p">[]</span> <span class="n">gen</span> <span class="n">greatest</span> <span class="n">integer</span> <span class="o">&lt;=</span> <span class="n">d</span><span class="o">*</span><span class="n">target</span>
    <span class="n">Select</span><span class="p">[]</span> <span class="ow">and</span> <span class="n">MaximalBy</span><span class="p">[],</span> <span class="n">both</span> <span class="n">are</span> <span class="p">[</span><span class="nb">list</span> <span class="o">+</span> <span class="n">function</span><span class="p">]</span>
    <span class="p">[[</span><span class="mi">2</span><span class="p">]]</span> <span class="n">the</span> <span class="mi">2</span><span class="n">nd</span> <span class="n">item</span><span class="p">,</span> <span class="c1">#[[2]] the 2nd input of the function </span>
    <span class="o">*</span><span class="p">)</span>
<span class="n">target</span> <span class="o">=</span> <span class="mi">3</span><span class="o">/</span><span class="mi">7</span><span class="p">;</span>
<span class="n">MaximalBy</span><span class="p">[</span><span class="n">Select</span><span class="p">[</span>  <span class="n">Table</span><span class="p">[</span> <span class="p">{</span><span class="n">Floor</span><span class="p">[</span><span class="n">d</span><span class="o">*</span><span class="n">target</span><span class="p">],</span> <span class="n">d</span><span class="p">},</span> <span class="p">{</span><span class="n">d</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">}</span> <span class="p">],</span> 
                          <span class="c1">#[[1]]/#[[2]] &lt; target &amp; ], </span>
         <span class="c1">#[[1]]/#[[2]] &amp; ]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-72">
<h2><span class="section-number">14.70. </span>PE 72<a class="headerlink" href="#pe-72" title="Link to this heading">#</a></h2>
<p>A fraction is a proper fraction if the highest common divisor of its numerator and denominator is <span class="math notranslate nohighlight">\(1\)</span>, or in other words, the numerator and denominator are coprime. The euler_phi function(totient function) is defined by how many integers a number is coprime with up to the number itself. This means that the euler_phi function can determine how many times that number will appear as the denominator in the fractions. Summing all of that up gives the total amount of fractions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 72 Counting Fractions</span>
<span class="k">def</span><span class="w"> </span><span class="nf">num_fractions</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">euler_phi</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">num</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>

<span class="c1"># print(num_fractions(1000000)) uncomment to show answer</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-73">
<h2><span class="section-number">14.71. </span>PE 73<a class="headerlink" href="#pe-73" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 73 Counting Fractions in a Range</span>
<span class="k">def</span><span class="w"> </span><span class="nf">fractions</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">QQ</span><span class="p">((</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">))</span> <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">num</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">q</span><span class="o">//</span><span class="mi">3</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">ceil</span><span class="p">(</span><span class="n">q</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span> <span class="k">if</span> <span class="n">gcd</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">fractions</span><span class="p">(</span><span class="mi">12000</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-74">
<h2><span class="section-number">14.72. </span>PE 74<a class="headerlink" href="#pe-74" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#74 Factorial Chains</span>
<span class="k">def</span><span class="w"> </span><span class="nf">fact</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span><span class="o">==</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">n</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">n</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">n</span><span class="o">*</span><span class="n">fact</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    
<span class="n">factorials</span><span class="o">=</span><span class="p">{</span><span class="n">i</span><span class="p">:</span><span class="n">fact</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)}</span>

<span class="n">num</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1000000</span><span class="p">):</span>
    <span class="n">n</span><span class="o">=</span><span class="n">i</span>
    <span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">while</span> <span class="n">n</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="n">n</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span>
        <span class="n">n1</span><span class="o">=</span><span class="mi">0</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">n</span><span class="p">:</span>
            <span class="n">n1</span><span class="o">+=</span><span class="n">factorials</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
        <span class="n">n</span><span class="o">=</span><span class="n">n1</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="o">==</span><span class="mi">60</span><span class="p">:</span>
        <span class="n">num</span><span class="o">+=</span><span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-75">
<h2><span class="section-number">14.73. </span>PE 75<a class="headerlink" href="#pe-75" title="Link to this heading">#</a></h2>
<p>Given Euclid’s formula and non-primitive triples, use
$<span class="math notranslate nohighlight">\(f(p)=\#{(m,n,k)\in\N^3:m&gt;n,\gcd(m, n)=1, m-n\enspace\text{odd}, p=k\cdot 2m(m+n)}\)</span>$</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># FP</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">Counter</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">functools</span><span class="w"> </span><span class="kn">import</span> <span class="n">reduce</span>

<span class="k">def</span><span class="w"> </span><span class="nf">all_counts</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1500000</span><span class="p">):</span>
    <span class="n">primitive</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">2</span><span class="o">*</span><span class="n">m</span><span class="o">*</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="n">n</span><span class="p">))</span>
                 <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">int</span><span class="p">((</span><span class="n">limit</span><span class="o">//</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
                 <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">m</span><span class="p">)</span>
                 <span class="k">if</span> <span class="p">(</span><span class="n">m</span><span class="o">-</span><span class="n">n</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">gcd</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>

    <span class="n">multiples</span> <span class="o">=</span> <span class="p">(</span><span class="n">k</span><span class="o">*</span><span class="n">P0</span>
                 <span class="k">for</span> <span class="n">P0</span> <span class="ow">in</span> <span class="n">primitive</span>
                 <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">limit</span><span class="o">//</span><span class="n">P0</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">,</span><span class="n">x</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">update</span><span class="p">([</span><span class="n">x</span><span class="p">])</span> <span class="ow">or</span> <span class="n">c</span><span class="p">,</span>
                  <span class="n">multiples</span><span class="p">,</span>
                  <span class="n">Counter</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># OOP</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">Counter</span>
<span class="k">def</span><span class="w"> </span><span class="nf">all_pythagorean_sums</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">):</span>
    <span class="c1"># Step 1: generate primitive perimeters</span>
    <span class="n">primitive</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">m</span><span class="o">*</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="n">n</span><span class="p">)</span> 
                 <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">isqrt</span><span class="p">(</span><span class="n">limit</span><span class="p">))</span> 
                 <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> 
                 <span class="k">if</span> <span class="n">is_odd</span><span class="p">(</span><span class="n">m</span><span class="o">-</span><span class="n">n</span><span class="p">)</span> <span class="ow">and</span> <span class="n">gcd</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># Step 2: generate all multiples &lt;= limit</span>
    <span class="n">all_sums</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">P0</span> <span class="ow">in</span> <span class="n">primitive</span><span class="p">:</span>
        <span class="n">k</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">k</span><span class="o">*</span><span class="n">P0</span> <span class="o">&lt;=</span> <span class="n">limit</span><span class="p">:</span>
            <span class="n">all_sums</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="o">*</span><span class="n">P0</span><span class="p">)</span>
            <span class="n">k</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">all_sums</span><span class="p">)</span>

<span class="n">lst</span><span class="o">=</span><span class="n">all_pythagorean_sums</span><span class="p">(</span><span class="mi">1500000</span><span class="p">)</span>
<span class="n">d</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="n">lst</span><span class="p">))</span>
<span class="nb">sum</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="n">num</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-77">
<h2><span class="section-number">14.74. </span>PE 77<a class="headerlink" href="#pe-77" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">prime_partitions</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">max_prime</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">num</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">num</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">max_prime</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">max_prime</span><span class="o">=</span><span class="n">num</span>
    <span class="n">total</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">prime_range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">max_prime</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">total</span><span class="o">+=</span><span class="n">prime_partitions</span><span class="p">(</span><span class="n">num</span><span class="o">-</span><span class="n">p</span><span class="p">,</span><span class="n">p</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">total</span>

<span class="n">limit</span><span class="o">=</span><span class="mi">100</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">limit</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">prime_partitions</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">5000</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">break</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">prime_partitions</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">num</span><span class="o">==</span><span class="mi">2</span> <span class="ow">or</span> <span class="n">num</span><span class="o">==</span><span class="mi">3</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="n">lst</span><span class="o">=</span><span class="n">prime_range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">num</span><span class="o">//</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">count</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
        <span class="n">count</span><span class="o">+=</span><span class="n">prime_partitions</span><span class="p">(</span><span class="n">num</span><span class="o">-</span><span class="n">n</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">count</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-78">
<h2><span class="section-number">14.75. </span>PE 78<a class="headerlink" href="#pe-78" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Pentagonal Recurrence </span>
<span class="k">def</span><span class="w"> </span><span class="nf">partition_mod</span><span class="p">(</span><span class="n">limit</span><span class="p">,</span><span class="n">mod</span><span class="o">=</span><span class="mi">1000000</span><span class="p">):</span>
    <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">limit</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">total</span><span class="o">=</span><span class="mi">0</span>
        <span class="n">k</span><span class="o">=</span><span class="mi">1</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">g1</span><span class="o">=</span><span class="n">k</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span>
            <span class="n">g2</span><span class="o">=</span><span class="n">k</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span>
            <span class="k">if</span> <span class="n">g1</span><span class="o">&gt;</span><span class="n">n</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="n">sign</span><span class="o">=-</span><span class="mi">1</span> <span class="k">if</span> <span class="n">k</span><span class="o">%</span><span class="k">2</span>==0 else 1
            <span class="n">total</span><span class="o">+=</span><span class="n">sign</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="n">g1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">g2</span><span class="o">&lt;=</span><span class="n">n</span><span class="p">:</span>
                <span class="n">total</span><span class="o">+=</span><span class="n">sign</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="n">g2</span><span class="p">]</span>
            <span class="n">k</span><span class="o">+=</span><span class="mi">1</span>
        <span class="n">p</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">total</span><span class="o">%</span><span class="k">mod</span>)
    <span class="k">return</span> <span class="n">p</span>

<span class="n">partition_mod</span><span class="p">(</span><span class="mi">60000</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Recursion</span>
<span class="k">def</span><span class="w"> </span><span class="nf">partition_mod</span><span class="p">(</span><span class="n">limit</span><span class="p">,</span><span class="n">mod</span><span class="o">=</span><span class="mi">1000000</span><span class="p">):</span>
    <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">limit</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">limit</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">limit</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">p</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">+</span><span class="n">p</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="n">k</span><span class="p">])</span><span class="o">%</span><span class="k">mod</span>
    <span class="k">return</span> <span class="n">p</span>

<span class="n">lst</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">partition_mod</span><span class="p">(</span><span class="mi">10000</span><span class="p">))</span>
<span class="n">lst</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-79">
<h2><span class="section-number">14.76. </span>PE 79<a class="headerlink" href="#pe-79" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#79 Passcode Derivation</span>
<span class="mi">73162890</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-80">
<h2><span class="section-number">14.77. </span>PE 80<a class="headerlink" href="#pe-80" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#80 Square Root Digital Expansion</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">re</span><span class="w"> </span><span class="kn">import</span> <span class="n">findall</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">math</span><span class="w"> </span><span class="kn">import</span> <span class="n">sqrt</span>
<span class="n">num</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="n">num1</span><span class="o">=</span><span class="p">[]</span>
<span class="n">num</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">num</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="n">num</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="n">num</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
<span class="n">num</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">36</span><span class="p">)</span>
<span class="n">num</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">49</span><span class="p">)</span>
<span class="n">num</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">64</span><span class="p">)</span>
<span class="n">num</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">81</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">num</span><span class="p">)):</span>
    <span class="n">num</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">sqrt</span><span class="p">(</span><span class="n">num</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">num</span><span class="p">)):</span>
    <span class="n">num2</span><span class="o">=</span><span class="n">num</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="mi">10</span><span class="o">**</span><span class="mi">99</span><span class="p">)</span>
    <span class="n">num</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">num</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
    <span class="n">num2</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">num2</span><span class="p">)</span>
    <span class="n">num</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num2</span><span class="p">)</span>
<span class="k">for</span> <span class="n">number1</span> <span class="ow">in</span> <span class="n">num</span><span class="p">:</span>
    <span class="n">dec</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">findall</span><span class="p">(</span><span class="s1">&#39;\d&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">number1</span><span class="p">))))</span>
    <span class="n">num1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dec</span><span class="p">)</span>
<span class="n">sum_digit</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">list_num</span> <span class="ow">in</span> <span class="n">num1</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">number2</span> <span class="ow">in</span> <span class="n">list_num</span><span class="p">:</span>
        <span class="n">sum_digit</span><span class="o">+=</span><span class="n">number2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">num1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sum_digit</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="mi">80</span> <span class="n">Square</span> <span class="n">Root</span> <span class="n">Digital</span> <span class="n">Expansion</span><span class="o">*</span><span class="p">)</span>
<span class="n">numberDigits</span> <span class="o">=</span> <span class="n">RealDigits</span><span class="p">[</span><span class="n">Sqrt</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">][[</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">lst</span><span class="o">=</span><span class="n">Complement</span><span class="p">[</span><span class="n">Range</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">99</span><span class="p">],</span> <span class="n">Table</span><span class="p">[</span><span class="n">n</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="n">n</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">Floor</span><span class="p">[</span><span class="n">Sqrt</span><span class="p">[</span><span class="mi">99</span><span class="p">]]}]];</span>
<span class="n">totalNumberDigits</span><span class="o">=</span><span class="n">Table</span><span class="p">[</span><span class="n">RealDigits</span><span class="p">[</span><span class="n">Sqrt</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">][[</span><span class="mi">1</span><span class="p">]],{</span><span class="n">i</span><span class="p">,</span><span class="n">lst</span><span class="p">}];</span>
<span class="n">lst1</span><span class="o">=</span><span class="p">{{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">},{</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">}};</span>
<span class="n">Total</span><span class="p">[</span><span class="n">Total</span><span class="p">[</span><span class="n">lst1</span><span class="p">]]</span>
<span class="n">Total</span><span class="p">[</span><span class="n">Total</span><span class="p">[</span><span class="n">totalNumberDigits</span><span class="p">]]</span>
<span class="p">(</span><span class="o">*</span> <span class="n">learn</span> <span class="mi">3</span> <span class="n">functions</span><span class="p">:</span>
    <span class="n">RealDigits</span><span class="p">[]</span> <span class="n">give</span> <span class="n">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="nb">len</span> <span class="n">digit</span>
    <span class="n">Complement</span><span class="p">[]</span> <span class="n">after</span> <span class="n">excluding</span> <span class="n">the</span> <span class="n">subsequent</span> <span class="n">lists</span><span class="p">,</span> <span class="n">the</span> <span class="n">complement</span> <span class="kn">from</span><span class="w"> </span><span class="nn">the</span> <span class="n">first</span> <span class="nb">list</span> 
    <span class="n">Total</span><span class="p">[]</span> <span class="o">*</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-82">
<h2><span class="section-number">14.78. </span>PE 82<a class="headerlink" href="#pe-82" title="Link to this heading">#</a></h2>
<p>The path_sum function uses dynamic programming. The values are check for each column, starting from the left. After the values have been determined by moving to the right, sweeping up and down is included through the double loop. Once we reach the last column we find the minimum value.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 82 Path sum: three ways</span>
<span class="k">def</span><span class="w"> </span><span class="nf">path_sum</span><span class="p">(</span><span class="n">matrix</span><span class="p">):</span>
    <span class="n">dp</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">matrix</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
        <span class="n">dp</span><span class="o">=</span><span class="p">[</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>
    <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://projecteuler.net/resources/documents/0082_matrix.txt&quot;</span><span class="p">)</span>   <span class="c1"># Send a GET request to the URL</span>
<span class="n">content</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>     <span class="c1"># Read the content of the response</span>
<span class="n">matrix</span><span class="o">=</span><span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">matrix</span><span class="o">=</span><span class="n">matrix</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">matrix</span><span class="o">=</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span><span class="n">row</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)))</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">matrix</span><span class="p">]</span>
<span class="n">n</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
<span class="n">path_sum</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-83">
<h2><span class="section-number">14.79. </span>PE 83<a class="headerlink" href="#pe-83" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://projecteuler.net/resources/documents/0083_matrix.txt&quot;</span><span class="p">)</span>   <span class="c1"># Send a GET request to the URL</span>
<span class="n">content</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>     <span class="c1"># Read the content of the response</span>
<span class="n">matrix</span><span class="o">=</span><span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">matrix</span><span class="o">=</span><span class="n">matrix</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">matrix</span><span class="o">=</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span><span class="n">row</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)))</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">matrix</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example 5x5 matrix (replace with PE83 input matrix)</span>
<span class="n">matrix</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mi">131</span><span class="p">,</span> <span class="mi">673</span><span class="p">,</span> <span class="mi">234</span><span class="p">,</span> <span class="mi">103</span><span class="p">,</span> <span class="mi">18</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">201</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span> <span class="mi">342</span><span class="p">,</span> <span class="mi">965</span><span class="p">,</span> <span class="mi">150</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">630</span><span class="p">,</span> <span class="mi">803</span><span class="p">,</span> <span class="mi">746</span><span class="p">,</span> <span class="mi">422</span><span class="p">,</span> <span class="mi">111</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">537</span><span class="p">,</span> <span class="mi">699</span><span class="p">,</span> <span class="mi">497</span><span class="p">,</span> <span class="mi">121</span><span class="p">,</span> <span class="mi">956</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">805</span><span class="p">,</span> <span class="mi">732</span><span class="p">,</span> <span class="mi">524</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">331</span><span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">dijkstra</span><span class="p">(</span><span class="n">matrix</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">values</span> <span class="o">=</span> <span class="p">[[</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
    <span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">current_pos</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">nodes_visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">nodes_visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">current_pos</span><span class="p">))</span>

    <span class="c1"># this is the global frontier</span>
    <span class="n">frontier</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">while</span> <span class="n">values</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">):</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">current_pos</span>
        <span class="n">lst</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">x</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">nodes_visited</span><span class="p">:</span>
            <span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">y</span><span class="p">],</span> <span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">+</span> <span class="n">matrix</span><span class="p">[</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">y</span><span class="p">])</span>
            <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">y</span><span class="p">],</span> <span class="p">[</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="p">]])</span>

        <span class="k">if</span> <span class="n">y</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">nodes_visited</span><span class="p">:</span>
            <span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">+</span> <span class="n">matrix</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>

        <span class="k">if</span> <span class="n">x</span> <span class="o">!=</span> <span class="n">n</span> <span class="ow">and</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">nodes_visited</span><span class="p">:</span>
            <span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">y</span><span class="p">],</span> <span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">+</span> <span class="n">matrix</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">y</span><span class="p">])</span>
            <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">y</span><span class="p">],</span> <span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="p">]])</span>

        <span class="k">if</span> <span class="n">y</span> <span class="o">!=</span> <span class="n">n</span> <span class="ow">and</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">nodes_visited</span><span class="p">:</span>
            <span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">+</span> <span class="n">matrix</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">values</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">]])</span>

        <span class="c1"># add all candidates to global frontier</span>
        <span class="n">frontier</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>

        <span class="c1"># pick best among ALL candidates so far</span>
        <span class="n">frontier</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="k">while</span> <span class="n">frontier</span> <span class="ow">and</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">frontier</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="ow">in</span> <span class="n">nodes_visited</span><span class="p">:</span>
            <span class="n">frontier</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">frontier</span><span class="p">:</span>
            <span class="k">break</span>  <span class="c1"># no path left</span>

        <span class="n">current_pos</span> <span class="o">=</span> <span class="n">frontier</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">nodes_visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">current_pos</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">values</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># FP</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">heapq</span><span class="w"> </span><span class="kn">import</span> <span class="n">heappush</span><span class="p">,</span><span class="n">heappop</span>
<span class="k">def</span><span class="w"> </span><span class="nf">dijkstra</span><span class="p">(</span><span class="n">matrix</span><span class="p">):</span>
    <span class="n">n</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
    <span class="n">target</span><span class="o">=</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">heap</span><span class="o">=</span><span class="p">[(</span><span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))]</span>
    <span class="n">dist</span><span class="o">=</span><span class="p">{(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">):</span><span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]}</span>
    <span class="n">neighbors</span><span class="o">=</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">:</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="mi">0</span><span class="o">&lt;=</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&lt;</span><span class="n">n</span> <span class="ow">and</span> <span class="mi">0</span><span class="o">&lt;=</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&lt;</span><span class="n">n</span><span class="p">,</span>
    <span class="p">[(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">),</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">),</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
    <span class="k">while</span> <span class="n">heap</span><span class="p">:</span>
        <span class="n">d</span><span class="p">,(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="o">=</span><span class="n">heappop</span><span class="p">(</span><span class="n">heap</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="o">==</span><span class="n">target</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">d</span>
        <span class="k">for</span> <span class="n">ni</span><span class="p">,</span><span class="n">nj</span> <span class="ow">in</span> <span class="n">neighbors</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
            <span class="n">new_d</span><span class="o">=</span><span class="n">d</span><span class="o">+</span><span class="n">matrix</span><span class="p">[</span><span class="n">ni</span><span class="p">][</span><span class="n">nj</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">new_d</span><span class="o">&lt;</span><span class="n">dist</span><span class="o">.</span><span class="n">get</span><span class="p">((</span><span class="n">ni</span><span class="p">,</span><span class="n">nj</span><span class="p">),</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)):</span>
                <span class="n">dist</span><span class="o">=</span><span class="p">{</span><span class="o">**</span><span class="n">dist</span><span class="p">,(</span><span class="n">ni</span><span class="p">,</span><span class="n">nj</span><span class="p">):</span> <span class="n">new_d</span><span class="p">}</span>
                <span class="n">heappush</span><span class="p">(</span><span class="n">heap</span><span class="p">,(</span><span class="n">new_d</span><span class="p">,(</span><span class="n">ni</span><span class="p">,</span><span class="n">nj</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># OOP</span>
<span class="k">def</span><span class="w"> </span><span class="nf">dijkstra</span><span class="p">(</span><span class="n">matrix</span><span class="p">):</span>
    <span class="n">n</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>
    <span class="n">values</span><span class="o">=</span><span class="p">[[</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
    <span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">current_pos</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">nodes_visited</span><span class="o">=</span><span class="p">[</span><span class="n">current_pos</span><span class="p">]</span>
    <span class="k">while</span> <span class="n">values</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">):</span>
        <span class="n">previous_pos</span><span class="o">=</span><span class="n">current_pos</span>
        <span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
        <span class="k">if</span> <span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="mi">0</span> <span class="ow">and</span> <span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">nodes_visited</span><span class="p">:</span>
            <span class="n">values</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span><span class="n">values</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">+</span><span class="n">matrix</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
            <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">values</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]],[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]])</span>
        <span class="k">if</span> <span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">!=</span><span class="mi">0</span> <span class="ow">and</span> <span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">nodes_visited</span><span class="p">:</span>
            <span class="n">values</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="n">values</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">+</span><span class="n">matrix</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">values</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="n">n</span> <span class="ow">and</span> <span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">nodes_visited</span><span class="p">:</span>
            <span class="n">values</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span><span class="n">values</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">+</span><span class="n">matrix</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
            <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">values</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]],[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]])</span>
        <span class="k">if</span> <span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">!=</span><span class="n">n</span> <span class="ow">and</span> <span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">nodes_visited</span><span class="p">:</span>
            <span class="n">values</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">values</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">+</span><span class="n">matrix</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">values</span><span class="p">[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">],[</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">current_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">]])</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
        <span class="n">current_pos</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">lst</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">nodes_visited</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_pos</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">values</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dijkstra</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-85">
<h2><span class="section-number">14.80. </span>PE 85<a class="headerlink" href="#pe-85" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 85 Counting Rectangles</span>
<span class="k">def</span><span class="w"> </span><span class="nf">count_rec</span><span class="p">(</span><span class="n">length</span><span class="p">,</span><span class="n">width</span><span class="p">):</span>
    <span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">length</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">width</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">length</span><span class="o">-</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">width</span><span class="o">-</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>

<span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">count_rec</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">))</span>
        <span class="k">if</span> <span class="mi">1998000</span><span class="o">&lt;</span><span class="n">count_rec</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">2000000</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Dimensions of grid: &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;, &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
<span class="n">lst</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">lst</span><span class="p">))</span>
<span class="n">lst</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="mi">1998000</span><span class="o">&lt;</span><span class="n">x</span><span class="o">&lt;</span><span class="mi">2000000</span><span class="p">,</span><span class="n">lst</span><span class="p">))</span>
<span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-87">
<h2><span class="section-number">14.81. </span>PE 87<a class="headerlink" href="#pe-87" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">squares</span><span class="o">=</span><span class="p">[</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">prime_range</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">7</span><span class="p">))]</span>
<span class="n">cubes</span><span class="o">=</span><span class="p">[</span><span class="n">i</span><span class="o">^</span><span class="mi">3</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">prime_range</span><span class="p">((</span><span class="mi">5</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">7</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">))]</span>
<span class="n">fourths</span><span class="o">=</span><span class="p">[</span><span class="n">i</span><span class="o">^</span><span class="mi">4</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">prime_range</span><span class="p">((</span><span class="mi">5</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">7</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">))]</span>
<span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">squares</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">cubes</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">fourths</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="o">&lt;</span><span class="mi">5</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">7</span><span class="p">:</span>
                <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">break</span>
<span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">lst</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">itertools</span>

<span class="n">limit</span> <span class="o">=</span> <span class="mi">5</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">7</span>

<span class="n">results</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
    <span class="n">s</span> <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">)</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="n">squares</span><span class="p">,</span> <span class="n">cubes</span><span class="p">,</span> <span class="n">fourths</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">s</span> <span class="o">:=</span> <span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">limit</span>
<span class="p">)</span>

<span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-89">
<h2><span class="section-number">14.82. </span>PE 89<a class="headerlink" href="#pe-89" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://projecteuler.net/resources/documents/0089_roman.txt&quot;</span><span class="p">)</span>   <span class="c1"># Send a GET request to the URL</span>
<span class="n">content</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>     <span class="c1"># Read the content of the response</span>
<span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">roman_to_int</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">lst</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="n">num</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">count</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">letter</span><span class="o">==</span><span class="s1">&#39;M&#39;</span><span class="p">:</span>
            <span class="n">num</span><span class="o">+=</span><span class="mi">1000</span>
            <span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="n">count</span><span class="p">:]</span>
    <span class="k">if</span>  <span class="n">lst</span><span class="o">!=</span><span class="p">[]</span> <span class="ow">and</span> <span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;C&#39;</span> <span class="ow">and</span> <span class="p">(</span><span class="s1">&#39;D&#39;</span> <span class="ow">in</span> <span class="n">lst</span> <span class="ow">or</span> <span class="s1">&#39;M&#39;</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;D&#39;</span><span class="p">:</span>
            <span class="n">num</span><span class="o">+=</span><span class="mi">400</span>
            <span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
        <span class="k">elif</span> <span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;M&#39;</span><span class="p">:</span>
            <span class="n">num</span><span class="o">+=</span><span class="mi">900</span>
            <span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
    <span class="k">if</span> <span class="s1">&#39;D&#39;</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
        <span class="n">num</span><span class="o">+=</span><span class="mi">500</span>
        <span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
    <span class="n">count</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">letter</span><span class="o">==</span><span class="s1">&#39;C&#39;</span><span class="p">:</span>
            <span class="n">num</span><span class="o">+=</span><span class="mi">100</span>
            <span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="n">count</span><span class="p">:]</span>
    <span class="k">if</span>  <span class="n">lst</span><span class="o">!=</span><span class="p">[]</span> <span class="ow">and</span> <span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;X&#39;</span> <span class="ow">and</span> <span class="p">(</span><span class="s1">&#39;L&#39;</span> <span class="ow">in</span> <span class="n">lst</span> <span class="ow">or</span> <span class="s1">&#39;C&#39;</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;L&#39;</span><span class="p">:</span>
            <span class="n">num</span><span class="o">+=</span><span class="mi">40</span>
            <span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
        <span class="k">elif</span> <span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;C&#39;</span><span class="p">:</span>
            <span class="n">num</span><span class="o">+=</span><span class="mi">90</span>
            <span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
    <span class="k">if</span> <span class="s1">&#39;L&#39;</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
        <span class="n">num</span><span class="o">+=</span><span class="mi">50</span>
        <span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
    <span class="n">count</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">letter</span><span class="o">==</span><span class="s1">&#39;X&#39;</span><span class="p">:</span>
            <span class="n">num</span><span class="o">+=</span><span class="mi">10</span>
            <span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="n">count</span><span class="p">:]</span>
    <span class="k">if</span> <span class="n">lst</span><span class="o">!=</span><span class="p">[]</span> <span class="ow">and</span> <span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;I&#39;</span> <span class="ow">and</span> <span class="p">(</span><span class="s1">&#39;V&#39;</span> <span class="ow">in</span> <span class="n">lst</span> <span class="ow">or</span> <span class="s1">&#39;X&#39;</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;V&#39;</span><span class="p">:</span>
            <span class="n">num</span><span class="o">+=</span><span class="mi">4</span>
            <span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
        <span class="k">elif</span> <span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;X&#39;</span><span class="p">:</span>
            <span class="n">num</span><span class="o">+=</span><span class="mi">9</span>
            <span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
    <span class="k">if</span> <span class="s1">&#39;V&#39;</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
        <span class="n">num</span><span class="o">+=</span><span class="mi">5</span>
        <span class="n">lst</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
    <span class="k">return</span> <span class="n">num</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">int_to_roman</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="o">//</span><span class="mi">1000</span><span class="p">):</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">)</span>
    <span class="n">num</span><span class="o">%=</span><span class="mi">1000</span>
    <span class="k">if</span> <span class="n">num</span><span class="o">&gt;=</span><span class="mi">900</span><span class="p">:</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;CM&#39;</span><span class="p">)</span>
        <span class="n">num</span><span class="o">-=</span><span class="mi">900</span>
    <span class="k">if</span> <span class="n">num</span><span class="o">&gt;=</span><span class="mi">500</span><span class="p">:</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>
        <span class="n">num</span><span class="o">-=</span><span class="mi">500</span>
    <span class="k">if</span> <span class="n">num</span><span class="o">&gt;=</span><span class="mi">400</span><span class="p">:</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;CD&#39;</span><span class="p">)</span>
        <span class="n">num</span><span class="o">-=</span><span class="mi">400</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="o">//</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">)</span>
    <span class="n">num</span><span class="o">%=</span><span class="mi">100</span>
    <span class="k">if</span> <span class="n">num</span><span class="o">&gt;=</span><span class="mi">90</span><span class="p">:</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;XC&#39;</span><span class="p">)</span>
        <span class="n">num</span><span class="o">-=</span><span class="mi">90</span>
    <span class="k">if</span> <span class="n">num</span><span class="o">&gt;=</span><span class="mi">50</span><span class="p">:</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
        <span class="n">num</span><span class="o">-=</span><span class="mi">50</span>
    <span class="k">if</span> <span class="n">num</span><span class="o">&gt;=</span><span class="mi">40</span><span class="p">:</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;XL&#39;</span><span class="p">)</span>
        <span class="n">num</span><span class="o">-=</span><span class="mi">40</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="o">//</span><span class="mi">10</span><span class="p">):</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
    <span class="n">num</span><span class="o">%=</span><span class="mi">10</span>
    <span class="k">if</span> <span class="n">num</span><span class="o">==</span><span class="mi">9</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;IX&#39;</span>
    <span class="k">if</span> <span class="n">num</span><span class="o">&gt;=</span><span class="mi">5</span><span class="p">:</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;V&#39;</span><span class="p">)</span>
        <span class="n">num</span><span class="o">-=</span><span class="mi">5</span>
    <span class="k">if</span> <span class="n">num</span><span class="o">==</span><span class="mi">4</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;IV&#39;</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;I&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">functools</span><span class="w"> </span><span class="kn">import</span> <span class="n">reduce</span>

<span class="c1"># Mapping of roman symbols</span>
<span class="n">ROMAN_MAP</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;I&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
    <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">1000</span>
<span class="p">}</span>

<span class="c1"># --- FP roman_to_int ---</span>
<span class="k">def</span><span class="w"> </span><span class="nf">roman_to_int</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">vals</span> <span class="o">=</span> <span class="p">[</span><span class="n">ROMAN_MAP</span><span class="p">[</span><span class="n">ch</span><span class="p">]</span> <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">s</span><span class="p">]</span>
    <span class="c1"># fold: if smaller before larger =&gt; subtract, else add</span>
    <span class="k">return</span> <span class="n">reduce</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="n">acc</span><span class="p">,</span> <span class="n">pair</span><span class="p">:</span> <span class="n">acc</span> <span class="o">+</span> <span class="p">(</span><span class="o">-</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">else</span> <span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
        <span class="nb">zip</span><span class="p">(</span><span class="n">vals</span><span class="p">,</span> <span class="n">vals</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
        <span class="mi">0</span>
    <span class="p">)</span>

<span class="c1"># --- FP int_to_roman ---</span>
<span class="k">def</span><span class="w"> </span><span class="nf">int_to_roman</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="c1"># descending ordered numeral list</span>
    <span class="n">table</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="s2">&quot;M&quot;</span><span class="p">),</span> <span class="p">(</span><span class="mi">900</span><span class="p">,</span> <span class="s2">&quot;CM&quot;</span><span class="p">),</span> <span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">),</span> <span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="s2">&quot;CD&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">),</span> <span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="s2">&quot;XC&quot;</span><span class="p">),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="s2">&quot;L&quot;</span><span class="p">),</span> <span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="s2">&quot;XL&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;X&quot;</span><span class="p">),</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="s2">&quot;IX&quot;</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;V&quot;</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;IV&quot;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;I&quot;</span><span class="p">)</span>
    <span class="p">]</span>
    <span class="c1"># expand by comprehension &amp; join</span>
    <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">numeral</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">//</span> <span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span><span class="p">,</span> <span class="n">numeral</span> <span class="ow">in</span> <span class="n">table</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">:=</span> <span class="n">n</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">roman</span> <span class="ow">in</span> <span class="n">content</span><span class="p">:</span>
    <span class="n">num</span><span class="o">=</span><span class="n">roman_to_int</span><span class="p">(</span><span class="n">roman</span><span class="p">)</span>
    <span class="n">shortest</span><span class="o">=</span><span class="n">int_to_roman</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
    <span class="n">count</span><span class="o">+=</span><span class="nb">len</span><span class="p">(</span><span class="n">roman</span><span class="p">)</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">shortest</span><span class="p">)</span>
<span class="n">count</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-91">
<h2><span class="section-number">14.83. </span>PE 91<a class="headerlink" href="#pe-91" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 91 Right Triangles with Integer Coordinates</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-92">
<h2><span class="section-number">14.84. </span>PE 92<a class="headerlink" href="#pe-92" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#92 Square Digit Chains</span>
<span class="k">def</span><span class="w"> </span><span class="nf">chain</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">while</span> <span class="n">n</span><span class="o">!=</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">n</span><span class="o">!=</span><span class="mi">89</span><span class="p">:</span>
        <span class="n">num</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span>
        <span class="n">squared</span><span class="o">=</span><span class="mi">0</span>
        <span class="k">for</span> <span class="n">digit</span> <span class="ow">in</span> <span class="n">num</span><span class="p">:</span>
            <span class="n">squared</span><span class="o">+=</span><span class="n">digit</span><span class="o">**</span><span class="mi">2</span>
        <span class="n">n</span><span class="o">=</span><span class="n">squared</span>
    <span class="k">return</span> <span class="n">n</span>
<span class="n">num_89</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10000000</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">chain</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">==</span><span class="mi">89</span><span class="p">:</span>
        <span class="n">num_89</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">if</span> <span class="n">i</span><span class="o">%</span><span class="k">50000</span>==0:
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="n">num_89</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-96">
<h2><span class="section-number">14.85. </span>PE 96<a class="headerlink" href="#pe-96" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
      <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
      <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]],</span>
   <span class="mi">1</span><span class="p">:[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
      <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
      <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">]],</span>
   <span class="mi">2</span><span class="p">:[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
      <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
      <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">]],</span>
   <span class="mi">3</span><span class="p">:[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
      <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
      <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">]],</span>
   <span class="mi">4</span><span class="p">:[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
      <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
      <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">]],</span>
   <span class="mi">5</span><span class="p">:[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
      <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
      <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">]],</span>
   <span class="mi">6</span><span class="p">:[[</span><span class="mi">6</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
      <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
      <span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">]],</span>
   <span class="mi">7</span><span class="p">:[[</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
      <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
      <span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">]],</span>
   <span class="mi">8</span><span class="p">:[[</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
      <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
      <span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">]]}</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_box</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">box</span><span class="p">):</span>
    <span class="n">br</span><span class="p">,</span> <span class="n">bc</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>   <span class="c1"># box -&gt; (box-row, box-col)</span>
    <span class="n">r0</span><span class="p">,</span> <span class="n">c0</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="n">br</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">bc</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">grid</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">r0</span><span class="p">,</span> <span class="n">r0</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">c0</span><span class="p">,</span> <span class="n">c0</span><span class="o">+</span><span class="mi">3</span><span class="p">)]</span>
<span class="k">def</span><span class="w"> </span><span class="nf">box_grid</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">i</span><span class="o">//</span><span class="mi">3</span><span class="o">*</span><span class="mi">3</span><span class="o">+</span><span class="n">j</span><span class="o">//</span><span class="mi">3</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_box_coords</span><span class="p">(</span><span class="n">box</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">d</span><span class="p">[</span><span class="n">box</span><span class="p">]</span>
<span class="k">def</span><span class="w"> </span><span class="nf">sudoku_solve</span><span class="p">(</span><span class="n">sudoku</span><span class="p">):</span>
    <span class="n">grid</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">sudoku</span><span class="p">:</span>
        <span class="n">grid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span><span class="n">line</span><span class="p">)))</span>
    <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span><span class="n">matrix</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span><span class="o">.</span><span class="n">transpose</span><span class="p">()))</span>
    <span class="n">boxes</span><span class="o">=</span><span class="p">[</span><span class="n">get_box</span><span class="p">(</span><span class="n">sudoku</span><span class="p">,</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)]</span>
    <span class="n">removal</span><span class="o">=</span><span class="p">[]</span><span class="o">*</span><span class="mi">9</span>
    <span class="n">box</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
        <span class="n">lst</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">column</span><span class="p">))</span>
        <span class="n">removal</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">boxes</span><span class="p">:</span>
        <span class="n">lst</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
        <span class="n">box</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
        <span class="n">lst</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
                <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
                    <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span><span class="o">==</span><span class="nb">list</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">removal</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
                    <span class="k">except</span><span class="p">:</span>
                        <span class="k">pass</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span><span class="o">==</span><span class="nb">list</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">box</span><span class="p">[</span><span class="n">box_grid</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)]:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
                    <span class="k">except</span><span class="p">:</span>
                        <span class="k">pass</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span><span class="o">==</span><span class="nb">list</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">box_grid</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)])</span>
                    <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">lst</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">grid</span>
        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
            <span class="n">i</span><span class="o">=</span><span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">j</span><span class="o">=</span><span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">num</span><span class="o">=</span><span class="n">val</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">num1</span><span class="o">=</span><span class="n">val</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">])</span><span class="o">==</span><span class="nb">list</span> <span class="ow">and</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]:</span>
                    <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">])</span><span class="o">==</span><span class="nb">list</span> <span class="ow">and</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">grid</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]:</span>
                    <span class="n">grid</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">l</span> <span class="ow">in</span> <span class="n">get_box_coords</span><span class="p">(</span><span class="n">num1</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">l</span><span class="p">])</span><span class="o">==</span><span class="nb">list</span> <span class="ow">and</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">grid</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">l</span><span class="p">]:</span>
                    <span class="n">grid</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">l</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">copy</span><span class="w"> </span><span class="kn">import</span> <span class="n">deepcopy</span>

<span class="k">def</span><span class="w"> </span><span class="nf">box_id</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">i</span> <span class="o">//</span> <span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="p">(</span><span class="n">j</span> <span class="o">//</span> <span class="mi">3</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">box_coords_from_id</span><span class="p">(</span><span class="n">b</span><span class="p">):</span>
    <span class="n">br</span><span class="p">,</span> <span class="n">bc</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">r0</span><span class="p">,</span> <span class="n">c0</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="n">br</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">bc</span>
    <span class="k">return</span> <span class="p">[(</span><span class="n">r0</span> <span class="o">+</span> <span class="n">dr</span><span class="p">,</span> <span class="n">c0</span> <span class="o">+</span> <span class="n">dc</span><span class="p">)</span> <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">dc</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>

<span class="k">def</span><span class="w"> </span><span class="nf">parse_grid</span><span class="p">(</span><span class="n">sudoku</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Accepts sudoku as list of 9 strings or iterables of digits (chars or ints).&quot;&quot;&quot;</span>
    <span class="n">grid</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">sudoku</span><span class="p">:</span>
        <span class="n">grid</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="nb">int</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span> <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">line</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">grid</span>

<span class="k">def</span><span class="w"> </span><span class="nf">initial_candidates</span><span class="p">(</span><span class="n">grid</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return grid where filled cells are ints and empty cells are sets of candidates.&quot;&quot;&quot;</span>
    <span class="n">cand</span> <span class="o">=</span> <span class="p">[[</span><span class="kc">None</span><span class="p">]</span><span class="o">*</span><span class="mi">9</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">used</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span> <span class="k">if</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">used</span> <span class="o">|=</span> <span class="nb">set</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span> <span class="k">if</span> <span class="n">grid</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">b</span> <span class="o">=</span> <span class="n">box_id</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
                <span class="n">used</span> <span class="o">|=</span> <span class="nb">set</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="k">for</span> <span class="n">r</span><span class="p">,</span><span class="n">c</span> <span class="ow">in</span> <span class="n">box_coords_from_id</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="k">if</span> <span class="n">grid</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span> <span class="o">-</span> <span class="n">used</span>
    <span class="k">return</span> <span class="n">cand</span>

<span class="k">def</span><span class="w"> </span><span class="nf">assign</span><span class="p">(</span><span class="n">cand</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Assign a definite value to cand[i][j], propagate removal from peers.</span>
<span class="sd">       Return False on contradiction, True if assignment done/ok.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cur</span> <span class="o">=</span> <span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">cur</span> <span class="o">==</span> <span class="n">val</span>
    <span class="k">if</span> <span class="n">val</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cur</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="c1"># set it</span>
    <span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>
    <span class="c1"># remove from peers</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">],</span> <span class="nb">set</span><span class="p">)</span> <span class="ow">and</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]:</span>
            <span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="nb">set</span><span class="p">)</span> <span class="ow">and</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cand</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]:</span>
            <span class="n">cand</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">r</span><span class="p">,</span><span class="n">c</span> <span class="ow">in</span> <span class="n">box_coords_from_id</span><span class="p">(</span><span class="n">box_id</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">],</span> <span class="nb">set</span><span class="p">)</span> <span class="ow">and</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cand</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]:</span>
            <span class="n">cand</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>

<span class="k">def</span><span class="w"> </span><span class="nf">propagate</span><span class="p">(</span><span class="n">cand</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Iteratively apply naked singles and hidden singles until no change.</span>
<span class="sd">       Returns False if contradiction found (empty candidate set), else cand.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">changed</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># 1) naked singles: assign any cell with single candidate</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="nb">set</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="k">return</span> <span class="kc">False</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">val</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]))</span>
                        <span class="n">ok</span> <span class="o">=</span> <span class="n">assign</span><span class="p">(</span><span class="n">cand</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">ok</span><span class="p">:</span>
                            <span class="k">return</span> <span class="kc">False</span>
                        <span class="n">changed</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="c1"># 2) hidden singles in rows</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
            <span class="n">counts</span> <span class="o">=</span> <span class="p">{</span><span class="n">n</span><span class="p">:</span> <span class="p">[]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)}</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="nb">set</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]:</span>
                        <span class="n">counts</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">cells</span> <span class="ow">in</span> <span class="n">counts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cells</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">r</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="n">cells</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">],</span> <span class="nb">set</span><span class="p">):</span>
                        <span class="n">ok</span> <span class="o">=</span> <span class="n">assign</span><span class="p">(</span><span class="n">cand</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">ok</span><span class="p">:</span>
                            <span class="k">return</span> <span class="kc">False</span>
                        <span class="n">changed</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="c1"># 3) hidden singles in columns</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
            <span class="n">counts</span> <span class="o">=</span> <span class="p">{</span><span class="n">n</span><span class="p">:</span> <span class="p">[]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)}</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="nb">set</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]:</span>
                        <span class="n">counts</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">cells</span> <span class="ow">in</span> <span class="n">counts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cells</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">r</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="n">cells</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">],</span> <span class="nb">set</span><span class="p">):</span>
                        <span class="n">ok</span> <span class="o">=</span> <span class="n">assign</span><span class="p">(</span><span class="n">cand</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">ok</span><span class="p">:</span>
                            <span class="k">return</span> <span class="kc">False</span>
                        <span class="n">changed</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="c1"># 4) hidden singles in boxes</span>
        <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
            <span class="n">counts</span> <span class="o">=</span> <span class="p">{</span><span class="n">n</span><span class="p">:</span> <span class="p">[]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)}</span>
            <span class="k">for</span> <span class="n">r</span><span class="p">,</span><span class="n">c</span> <span class="ow">in</span> <span class="n">box_coords_from_id</span><span class="p">(</span><span class="n">b</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">],</span> <span class="nb">set</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">cand</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]:</span>
                        <span class="n">counts</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">r</span><span class="p">,</span><span class="n">c</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">cells</span> <span class="ow">in</span> <span class="n">counts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cells</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">r</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="n">cells</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">],</span> <span class="nb">set</span><span class="p">):</span>
                        <span class="n">ok</span> <span class="o">=</span> <span class="n">assign</span><span class="p">(</span><span class="n">cand</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">ok</span><span class="p">:</span>
                            <span class="k">return</span> <span class="kc">False</span>
                        <span class="n">changed</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">changed</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="k">return</span> <span class="n">cand</span>

<span class="k">def</span><span class="w"> </span><span class="nf">is_solved</span><span class="p">(</span><span class="n">cand</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="nb">int</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>

<span class="k">def</span><span class="w"> </span><span class="nf">deep_solve</span><span class="p">(</span><span class="n">cand</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Backtracking search using propagation. Return solved grid or None.&quot;&quot;&quot;</span>
    <span class="n">cand</span> <span class="o">=</span> <span class="n">propagate</span><span class="p">(</span><span class="n">cand</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cand</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">is_solved</span><span class="p">(</span><span class="n">cand</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">cand</span>
    <span class="c1"># pick unfilled cell with fewest candidates</span>
    <span class="n">best</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">best_len</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="nb">set</span><span class="p">):</span>
                <span class="n">l</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">l</span> <span class="o">&lt;</span> <span class="n">best_len</span><span class="p">:</span>
                    <span class="n">best_len</span> <span class="o">=</span> <span class="n">l</span>
                    <span class="n">best</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">best</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="o">=</span> <span class="n">best</span>
    <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">cand</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]):</span>
        <span class="n">cand_copy</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">cand</span><span class="p">)</span>
        <span class="n">ok</span> <span class="o">=</span> <span class="n">assign</span><span class="p">(</span><span class="n">cand_copy</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ok</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">deep_solve</span><span class="p">(</span><span class="n">cand_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">result</span>
    <span class="k">return</span> <span class="kc">None</span>

<span class="k">def</span><span class="w"> </span><span class="nf">sudoku_solve</span><span class="p">(</span><span class="n">sudoku</span><span class="p">,</span> <span class="n">do_backtrack</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="n">grid</span> <span class="o">=</span> <span class="n">parse_grid</span><span class="p">(</span><span class="n">sudoku</span><span class="p">)</span>
    <span class="n">cand</span> <span class="o">=</span> <span class="n">initial_candidates</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
    <span class="n">solved</span> <span class="o">=</span> <span class="n">propagate</span><span class="p">(</span><span class="n">cand</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">solved</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">is_solved</span><span class="p">(</span><span class="n">solved</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">solved</span>
    <span class="k">if</span> <span class="n">do_backtrack</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">deep_solve</span><span class="p">(</span><span class="n">solved</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">solved</span>  <span class="c1"># partial grid with candidate sets</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://projecteuler.net/resources/documents/0096_sudoku.txt&quot;</span><span class="p">)</span>   <span class="c1"># Send a GET request to the URL</span>
<span class="n">content</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>     <span class="c1"># Read the content of the response</span>
<span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">count</span><span class="o">=</span><span class="mi">0</span>
<span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">):</span>
    <span class="n">sudoku</span><span class="o">=</span><span class="n">sudoku_solve</span><span class="p">(</span><span class="n">content</span><span class="p">[:</span><span class="mi">9</span><span class="p">])</span>
    <span class="n">count</span><span class="o">+=</span><span class="nb">int</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">sudoku</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">sudoku</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">sudoku</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]))</span>
    <span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="p">[</span><span class="mi">10</span><span class="p">:]</span>
<span class="n">count</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-99">
<h2><span class="section-number">14.86. </span>PE 99<a class="headerlink" href="#pe-99" title="Link to this heading">#</a></h2>
<p>In this question, I learned Ordinal theory (VS. Cardinal theory):</p>
<ul class="simple">
<li><p>Ordinal data only introduces a ordering/ranking (e.g. A&gt;B), but we don’t know how large A or B is.</p></li>
<li><p>Cardinal further tell ‘how many’ of each thing, or showing quantity (e.g. 2&gt;1)</p></li>
</ul>
<p>When comparing huge numbers, I don’t need to know ‘how many’ they are, I just need to where they are (their ranking). So I can use log to shrink their coordinates:</p>
<div class="math notranslate nohighlight">
\[base^{exponent} =e^{exponent⋅log(base)}\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 99 Largest Exponential</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="c1"># sys.set_int_max_str_digits(4000000)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://projecteuler.net/resources/documents/0099_base_exp.txt&quot;</span><span class="p">)</span>
<span class="n">content</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>     <span class="c1"># Read the content of the response</span>
<span class="c1"># Split the data into lines</span>
<span class="n">lines</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">column1</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">column2</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
    <span class="c1"># Split the line by the comma and convert to integers</span>
    <span class="n">num1</span><span class="p">,</span> <span class="n">num2</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))</span>
    <span class="c1"># Append the numbers to the respective lists</span>
    <span class="n">column1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num1</span><span class="p">)</span>
    <span class="n">column2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num2</span><span class="p">)</span>

<span class="n">record</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="n">record</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&lt;</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">column1</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">*</span><span class="n">column2</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
        <span class="n">record</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="n">column1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">record</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">column2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">record</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span>
<span class="n">record</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span> <span class="mi">99</span> <span class="n">Largest</span> <span class="n">Exponential</span>
   <span class="p">[[</span><span class="mi">2</span><span class="p">]]</span> <span class="n">denotes</span> <span class="n">the</span> <span class="mi">2</span><span class="n">nd</span> <span class="n">item</span> <span class="ow">in</span> <span class="p">{{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">},{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">}}</span> <span class="o">*</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">Import</span><span class="p">[</span><span class="s2">&quot;https://projecteuler.net/resources/documents/0099_base_exp.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;CSV&quot;</span><span class="p">];</span>
<span class="n">new</span> <span class="o">=</span> <span class="n">Map</span><span class="p">[</span><span class="c1">#[[2]] * Log[#[[1]]] &amp;, data];</span>
<span class="n">Position</span><span class="p">[</span><span class="n">new</span><span class="p">,</span> <span class="n">Max</span><span class="p">[</span><span class="n">new</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">881418</span><span class="o">**</span><span class="mi">505504</span><span class="o">&gt;</span><span class="mi">960290</span><span class="o">**</span><span class="mi">502358</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pe-100">
<h2><span class="section-number">14.87. </span>PE 100<a class="headerlink" href="#pe-100" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">blue</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">k</span><span class="o">==</span><span class="mi">1</span> <span class="k">else</span> <span class="mi">3</span><span class="o">*</span><span class="n">blue</span><span class="p">(</span><span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">total</span><span class="p">(</span><span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span>
<span class="k">def</span><span class="w"> </span><span class="nf">total</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">k</span><span class="o">==</span><span class="mi">1</span> <span class="k">else</span> <span class="mi">4</span><span class="o">*</span><span class="n">blue</span><span class="p">(</span><span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">total</span><span class="p">(</span><span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="mi">3</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">21</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">total</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">10</span><span class="o">^</span><span class="mi">12</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">blue</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="k">break</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "sagemath"
        },
        kernelOptions: {
            name: "sagemath",
            path: "./PE_Informatics"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'sagemath'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="PE_math.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">13. </span>Project Euler Math</p>
      </div>
    </a>
    <a class="right-next"
       href="PE200.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">15. </span>Project Euler Q101-</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-1">14.1. PE 1</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-2">14.2. PE 2</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-3">14.3. PE 3</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-sqrt-13">14.4. PE <span class="math notranslate nohighlight">\(\sqrt{13}\)</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-4">14.5. PE 4</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-5">14.6. PE 5</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-6">14.7. PE 6</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-7">14.8. PE 7</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-8">14.9. PE 8</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-9">14.10. PE 9</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-10">14.11. PE 10</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-11">14.12. PE 11</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-12">14.13. PE 12</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-13">14.14. PE 13</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-14">14.15. PE 14</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-15">14.16. PE 15</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-16">14.17. PE 16</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-17">14.18. PE 17</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-18">14.19. PE 18</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-19">14.20. PE 19</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-20">14.21. PE 20</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-21">14.22. PE 21</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-22">14.23. PE 22</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-23">14.24. PE 23</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-24">14.25. PE 24</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-25">14.26. PE 25</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-26">14.27. PE 26</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-27">14.28. PE 27</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-28">14.29. PE 28</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-29">14.30. PE 29</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-30">14.31. PE 30</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-31">14.32. PE 31</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-32">14.33. PE 32</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-33">14.34. PE 33</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-34">14.35. PE 34</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-35">14.36. PE 35</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-36">14.37. PE 36</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-37">14.38. PE 37</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-38">14.39. PE 38</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-39">14.40. PE 39</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-40">14.41. PE 40</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-41">14.42. PE 41</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-42">14.43. PE 42</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-43">14.44. PE 43</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-44">14.45. PE 44</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-45">14.46. PE 45</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-46">14.47. PE 46</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-47">14.48. PE 47</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-48">14.49. PE 48</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-49">14.50. PE 49</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-50">14.51. PE 50</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-51">14.52. PE 51</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-52">14.53. PE 52</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-53">14.54. PE 53</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-54">14.55. PE 54</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-55">14.56. PE 55</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-56">14.57. PE 56</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-57">14.58. PE 57</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-58">14.59. PE 58</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-59">14.60. PE 59</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-61">14.61. PE 61</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-62">14.62. PE 62</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-63">14.63. PE 63</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-64">14.64. PE 64</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-65">14.65. PE 65</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-66">14.66. PE 66</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-69">14.67. PE 69</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-70">14.68. PE 70</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-71">14.69. PE 71</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-72">14.70. PE 72</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-73">14.71. PE 73</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-74">14.72. PE 74</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-75">14.73. PE 75</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-77">14.74. PE 77</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-78">14.75. PE 78</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-79">14.76. PE 79</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-80">14.77. PE 80</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-82">14.78. PE 82</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-83">14.79. PE 83</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-85">14.80. PE 85</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-87">14.81. PE 87</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-89">14.82. PE 89</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-91">14.83. PE 91</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-92">14.84. PE 92</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-96">14.85. PE 96</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-99">14.86. PE 99</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pe-100">14.87. PE 100</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jonny, assisted by Tom
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>